<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>JSONBench â€” a Benchmark For Data Analytics On JSON</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="icon" type="image/png" href="favicon.png">
    <link href="https://fonts.googleapis.com/css2?family=Inter&display=swap" rel="stylesheet">

    <style>
        :root {
            --color: black;
            --title-color: black;
            --background-color: white;

            --link-color: #08F;
            --link-hover-color: #F40;

            --selector-text-color: black;
            --selector-active-text-color: black;
            --selector-background-color: #EEE;
            --selector-active-background-color: #FFCB80;
            --selector-hover-text-color: black;
            --selector-hover-background-color: #FDB;

            --summary-every-other-row-color: #F8F8F8;
            --highlight-color: #EEE;
            --bar-color: #FFCB80;
            --fake-bar-color: #CCC;

            --tooltip-text-color: white;
            --tooltip-background-color: black;

            --nothing-selected-color: #CCC;
            --shadow-color: grey;
        }

        [data-theme="dark"] {
            --color: #CCC;
            --title-color: white;
            --background-color: #04293A;

            --link-color: #8CF;
            --link-hover-color: #FFF;

            --selector-text-color: white;
            --selector-background-color: #444;
            --selector-active-text-color: white;
            --selector-active-background-color: #088;
            --selector-hover-text-color: black;
            --selector-hover-background-color: white;

            --summary-every-other-row-color: #042e41;
            --highlight-color: #064663;
            --bar-color: #088;
            --fake-bar-color: #666;

            --tooltip-text-color: white;
            --tooltip-background-color: #444;

            --nothing-selected-color: #666;
            --shadow-color: black;
        }

        html, body {
            color: var(--color);
            background-color: var(--background-color);
            width: 100%;
            height: 100%;
            margin: 0;
            overflow: auto;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            padding: 1% 3% 0 3%;
        }

        h1 {
            color: var(--title-color);
        }

        table {
             border-spacing: 1px;
        }

        .stick-left {
            position: sticky;
            left: 0px;
        }

        .selectors-container {
            padding: 2rem 0 2rem 0;
            user-select: none;
        }

        .selectors-container th {
            text-align: left;
            vertical-align: top;
            white-space: nowrap;
            padding-top: 0.5rem;
            padding-right: 1rem;
        }

        .selector {
            display: inline-block;
            margin-left: 0.1rem;
            padding: 0.2rem 0.5rem 0.2rem 0.5rem;
            background: var(--selector-background-color);
            color: var(--selector-text-color);
            border: 0.2rem solid var(--background-color);
            border-radius: 0.5rem;
        }

        .selector-active {
            color: var(--selector-active-text-color);
            background: var(--selector-active-background-color);
        }

        a, a:visited {
            text-decoration: none;
            color: var(--link-color);
            cursor: pointer;
        }

        a:hover {
            color: var(--link-hover-color);
        }

        .selector:hover {
            color: var(--selector-hover-text-color) !important;
            background: var(--selector-background-color);
        }

        .selector-active:hover {
            background: var(--selector-hover-background-color);
        }

        #summary tr:nth-child(odd) {
            background: var(--summary-every-other-row-color);
        }

        .summary-name {
            white-space: nowrap;
            text-align: right;
            padding-right: 1rem;
        }

        .summary-bar-cell {
            width: 100%;
        }

        .summary-bar {
            height: 1rem;
            background: var(--bar-color);
            border-radius: 0 0.2rem 0.2rem 0;
        }

        .summary-bar-fake {
            height: 1rem;
            background: var(--fake-bar-color);
            border-radius: 0 0.2rem 0.2rem 0;
        }

        .summary-number {
            font-family: monospace;
            text-align: right;
            padding-left: 1rem;
            white-space: nowrap;
        }

        th {
            padding-bottom: 0.5rem;
        }

        .th-entry-hilite {
            background: var(--highlight-color);
            font-weight: bold;
        }

        .summary-row:hover, .summary-row-hilite {
            background: var(--highlight-color) !important;
            font-weight: bold;
        }

        #details {
            padding-bottom: 1rem;
        }

        #details th {
            vertical-align: bottom;
        }

        #details td {
            white-space: pre;
            font-family: monospace;
            text-align: right;
            padding: 0.1rem 0.5rem 0.1rem 0.5rem;
        }

        .shadow:hover {
            box-shadow: 0 0 1rem var(--shadow-color);
            position: relative;
        }

        #nothing-selected {
            display: none;
            font-size: 32pt;
            font-weight: bold;
            color: var(--nothing-selected-color);
        }

        .note {
            position: relative;
            display: inline-block;
        }

        .tooltip {
            position: absolute;
            bottom: calc(100% + 0.5rem);
            visibility: hidden;
            background-color: var(--tooltip-background-color);
            color: var(--tooltip-text-color);
            box-shadow: 0 0 1rem var(--shadow-color);
            padding: 0.5rem 0.75rem;
            border-radius: 0.5rem;
            z-index: 1;
            text-align: left;
            white-space: normal;
        }

        .tooltip-result {
            left: calc(50% - 0.25rem);
            width: 20rem;
            margin-left: -10rem;
        }

        .tooltip-query {
            left: 0;
            width: 40rem;
            margin-left: -3rem;
        }

        .note:hover .tooltip {
            visibility: visible;
        }

        .tooltip::after {
            content: " ";
            position: absolute;
            top: 100%;
            border-width: 0.5rem;
            border-style: solid;
            border-color: var(--tooltip-background-color) transparent transparent transparent;
        }

        .tooltip-result::after {
            left: 50%;
            margin-left: -1rem;
        }

        .tooltip-query::after {
            left: 3rem;
            margin-left: 0.5rem;
        }

        .nowrap {
            text-wrap: none;
        }

        .themes {
            float: right;
            font-size: 200%;
            cursor: pointer;
        }

        #toggle-dark, #toggle-light {
            padding-right: 0.5rem;
            cursor: pointer;
        }

        #toggle-dark:hover, #toggle-light:hover {
            display: inline-block;
            transform: translate(1px, 1px);
            filter: brightness(125%);
        }
    </style>
    <script type="text/javascript">

const queries = [
"SELECT data.commit.collection AS event, count() AS count FROM bluesky GROUP BY event ORDER BY count DESC",
"SELECT data.commit.collection AS event, count() AS count, uniqExact(data.did) AS users FROM bluesky WHERE data.kind = 'commit' AND data.commit.operation = 'create' GROUP BY event ORDER BY count DESC",
"SELECT data.commit.collection AS event, toHour(fromUnixTimestamp64Micro(data.time_us)) as hour_of_day, count() AS count FROM bluesky WHERE data.kind = 'commit' AND data.commit.operation = 'create' AND data.commit.collection in ['app.bsky.feed.post', 'app.bsky.feed.repost', 'app.bsky.feed.like'] GROUP BY event, hour_of_day ORDER BY hour_of_day, event",
"SELECT data.did::String as user_id, min(fromUnixTimestamp64Micro(data.time_us)) as first_post_ts FROM bluesky WHERE data.kind = 'commit' AND data.commit.operation = 'create' AND data.commit.collection = 'app.bsky.feed.post' GROUP BY user_id ORDER BY first_post_ts ASC LIMIT 3",
"SELECT data.did::String as user_id, date_diff( 'milliseconds', min(fromUnixTimestamp64Micro(data.time_us)), max(fromUnixTimestamp64Micro(data.time_us))) AS activity_span FROM bluesky WHERE data.kind = 'commit' AND data.commit.operation = 'create' AND data.commit.collection = 'app.bsky.feed.post' GROUP BY user_id ORDER BY activity_span DESC LIMIT 3",
];

const data = [
{"system":"data.json.gz","fake":true,"date":"2025-01-13","machine":"m6i.8xlarge, 10000gib gp3","cluster_size":1,"comment":"","retains_structure":"yes","tags":[],"dataset_size":1000000000,"dataset_size_readable":"1000m","data_compression":"gz","total_size":134117979655,"total_size_readable":"134.12 GB","source":"_files_gz/results/_files_bluesky_gz_1000m.json"}
,{"system":"data.json.gz","fake":true,"date":"2025-01-13","machine":"m6i.8xlarge, 10000gib gp3","cluster_size":1,"comment":"","retains_structure":"yes","tags":[],"dataset_size":100000000,"dataset_size_readable":"100m","data_compression":"gz","total_size":13372936569,"total_size_readable":"13.37 GB","source":"_files_gz/results/_files_bluesky_gz_100m.json"}
,{"system":"data.json.gz","fake":true,"date":"2025-01-13","machine":"m6i.8xlarge, 10000gib gp3","cluster_size":1,"comment":"","retains_structure":"yes","tags":[],"dataset_size":10000000,"dataset_size_readable":"10m","data_compression":"gz","total_size":1354902507,"total_size_readable":"1.35 GB","source":"_files_gz/results/_files_bluesky_gz_10m.json"}
,{"system":"data.json.gz","fake":true,"date":"2025-01-13","machine":"m6i.8xlarge, 10000gib gp3","cluster_size":1,"comment":"","retains_structure":"yes","tags":[],"dataset_size":1000000,"dataset_size_readable":"1m","data_compression":"gz","total_size":135176827,"total_size_readable":"135.17 MB","source":"_files_gz/results/_files_bluesky_gz_1m.json"}
,{"system":"data.json","fake":true,"date":"2025-01-13","machine":"m6i.8xlarge, 10000gib gp3","cluster_size":1,"comment":"","retains_structure":"yes","tags":[],"dataset_size":1000000000,"dataset_size_readable":"1000m","data_compression":"none","total_size":482108809691,"total_size_readable":"482.11 GB","source":"_files_json/results/_files_bluesky_json_1000m.json"}
,{"system":"data.json","fake":true,"date":"2025-01-13","machine":"m6i.8xlarge, 10000gib gp3","cluster_size":1,"comment":"","retains_structure":"yes","tags":[],"dataset_size":100000000,"dataset_size_readable":"100m","data_compression":"none","total_size":47813179260,"total_size_readable":"47.81 GB","source":"_files_json/results/_files_bluesky_json_100m.json"}
,{"system":"data.json","fake":true,"date":"2025-01-13","machine":"m6i.8xlarge, 10000gib gp3","cluster_size":1,"comment":"","retains_structure":"yes","tags":[],"dataset_size":10000000,"dataset_size_readable":"10m","data_compression":"none","total_size":4858741288,"total_size_readable":"4.86 GB","source":"_files_json/results/_files_bluesky_json_10m.json"}
,{"system":"data.json","fake":true,"date":"2025-01-13","machine":"m6i.8xlarge, 10000gib gp3","cluster_size":1,"comment":"","retains_structure":"yes","tags":[],"dataset_size":1000000,"dataset_size_readable":"1m","data_compression":"none","total_size":480778277,"total_size_readable":"480.78 MB","source":"_files_json/results/_files_bluesky_json_1m.json"}
,{"system":"data.json.lz4","fake":true,"date":"2025-01-13","machine":"m6i.8xlarge, 10000gib gp3","cluster_size":1,"comment":"","retains_structure":"yes","tags":[],"dataset_size":1000000000,"dataset_size_readable":"1000m","data_compression":"lz4","total_size":206562787263,"total_size_readable":"206.56 GB","source":"_files_lz4/results/_files_bluesky_lz4_1000m.json"}
,{"system":"data.json.lz4","fake":true,"date":"2025-01-13","machine":"m6i.8xlarge, 10000gib gp3","cluster_size":1,"comment":"","retains_structure":"yes","tags":[],"dataset_size":100000000,"dataset_size_readable":"100m","data_compression":"lz4","total_size":20591959778,"total_size_readable":"20.59 GB","source":"_files_lz4/results/_files_bluesky_lz4_100m.json"}
,{"system":"data.json.lz4","fake":true,"date":"2025-01-13","machine":"m6i.8xlarge, 10000gib gp3","cluster_size":1,"comment":"","retains_structure":"yes","tags":[],"dataset_size":10000000,"dataset_size_readable":"10m","data_compression":"lz4","total_size":2084888024,"total_size_readable":"2.08 GB","source":"_files_lz4/results/_files_bluesky_lz4_10m.json"}
,{"system":"data.json.lz4","fake":true,"date":"2025-01-13","machine":"m6i.8xlarge, 10000gib gp3","cluster_size":1,"comment":"","retains_structure":"yes","tags":[],"dataset_size":1000000,"dataset_size_readable":"1m","data_compression":"lz4","total_size":208385826,"total_size_readable":"208.39 MB","source":"_files_lz4/results/_files_bluesky_lz4_1m.json"}
,{"system":"data.json.zstd","fake":true,"date":"2025-01-13","machine":"m6i.8xlarge, 10000gib gp3","cluster_size":1,"comment":"","retains_structure":"yes","tags":[],"dataset_size":1000000000,"dataset_size_readable":"1000m","data_compression":"zstd(1)","total_size":123797963671,"total_size_readable":"123.80 GB","source":"_files_zstd/results/_files_bluesky_zstd_1000m.json"}
,{"system":"data.json.zstd","fake":true,"date":"2025-01-13","machine":"m6i.8xlarge, 10000gib gp3","cluster_size":1,"comment":"","retains_structure":"yes","tags":[],"dataset_size":100000000,"dataset_size_readable":"100m","data_compression":"zstd(1)","total_size":12245368182,"total_size_readable":"12.25 GB","source":"_files_zstd/results/_files_bluesky_zstd_100m.json"}
,{"system":"data.json.zstd","fake":true,"date":"2025-01-13","machine":"m6i.8xlarge, 10000gib gp3","cluster_size":1,"comment":"","retains_structure":"yes","tags":[],"dataset_size":10000000,"dataset_size_readable":"10m","data_compression":"zstd(1)","total_size":1269817486,"total_size_readable":"1.27 GB","source":"_files_zstd/results/_files_bluesky_zstd_10m.json"}
,{"system":"data.json.zstd","fake":true,"date":"2025-01-13","machine":"m6i.8xlarge, 10000gib gp3","cluster_size":1,"comment":"","retains_structure":"yes","tags":[],"dataset_size":1000000,"dataset_size_readable":"1m","data_compression":"zstd(1)","total_size":126734406,"total_size_readable":"126.73 MB","source":"_files_zstd/results/_files_bluesky_zstd_1m.json"}
,{"system":"ClickHouse (lz4)","version":"25.1.1.2571","os":"Ubuntu 24.04","date":"2025-01-13","machine":"m6i.8xlarge, 10000gib gp3","cluster_size":1,"comment":"","retains_structure":"yes","tags":[],"dataset_size":1000000000,"dataset_size_readable":"1000m","num_loaded_documents":999999258,"data_compression":"lz4","total_size":159834794888,"total_size_readable":"159.83 GB","data_size":158959086724,"data_size_readable":"158.96 GB","index_size":875707939,"index_size_readable":"875.71 MB","result":[[0.401,0.395,0.389],[21.445,5.542,5.587],[34.907,2.334,2.351],[8.173,0.563,0.556],[8.178,0.610,0.573]],"result_readable":["401.00 msec, 395.00 msec, 389.00 msec","21.45 sec, 5.54 sec, 5.59 sec","34.91 sec, 2.33 sec, 2.35 sec","8.17 sec, 563.00 msec, 556.00 msec","8.18 sec, 610.00 msec, 573.00 msec"],"memory_usage":[[2418416,1362125,1934870],[4857932616,4839715303,4870295739],[148886114,139232115,140070546],[2500677923,2573855740,2556181514],[2694349228,3086817972,2623063375]],"memory_usage_readable":["2.42 MB, 1.36 MB, 1.93 MB","4.86 GB, 4.84 GB, 4.87 GB","148.89 MB, 139.23 MB, 140.07 MB","2.50 GB, 2.57 GB, 2.56 GB","2.69 GB, 3.09 GB, 2.62 GB"],"source":"clickhouse/results/m6i.8xlarge_bluesky_1000m_lz4.json"}
,{"system":"ClickHouse (zstd)","version":"25.1.1.2571","os":"Ubuntu 24.04","date":"2025-01-13","machine":"m6i.8xlarge, 10000gib gp3","cluster_size":1,"comment":"","retains_structure":"yes","tags":[],"dataset_size":1000000000,"dataset_size_readable":"1000m","num_loaded_documents":999999258,"data_compression":"zstd","total_size":99230044699,"total_size_readable":"99.23 GB","data_size":98355025153,"data_size_readable":"98.36 GB","index_size":875019321,"index_size_readable":"875.02 MB","result":[[0.405,0.395,0.394],[11.854,5.632,5.749],[28.899,2.466,2.488],[5.384,0.609,0.596],[5.405,0.640,0.637]],"result_readable":["405.00 msec, 395.00 msec, 394.00 msec","11.85 sec, 5.63 sec, 5.75 sec","28.90 sec, 2.47 sec, 2.49 sec","5.38 sec, 609.00 msec, 596.00 msec","5.41 sec, 640.00 msec, 637.00 msec"],"memory_usage":[[2779174,1363689,783683],[4823948860,4871634449,4918802526],[147631790,139732345,139867057],[2537597752,2638168515,2609289232],[2796756189,2927194160,2788741563]],"memory_usage_readable":["2.78 MB, 1.36 MB, 783.68 KB","4.82 GB, 4.87 GB, 4.92 GB","147.63 MB, 139.73 MB, 139.87 MB","2.54 GB, 2.64 GB, 2.61 GB","2.80 GB, 2.93 GB, 2.79 GB"],"source":"clickhouse/results/m6i.8xlarge_bluesky_1000m_zstd.json"}
,{"system":"ClickHouse (lz4)","version":"25.1.1.2571","os":"Ubuntu 24.04","date":"2025-01-13","machine":"m6i.8xlarge, 10000gib gp3","cluster_size":1,"comment":"","retains_structure":"yes","tags":[],"dataset_size":100000000,"dataset_size_readable":"100m","num_loaded_documents":99999968,"data_compression":"lz4","total_size":15793562624,"total_size_readable":"15.79 GB","data_size":15771339413,"data_size_readable":"15.77 GB","index_size":222231402,"index_size_readable":" 22.22 MB","result":[[0.054,0.041,0.041],[2.344,0.724,0.724],[2.114,0.226,0.228],[0.380,0.087,0.085],[0.648,0.088,0.092]],"result_readable":["54.00 msec, 41.00 msec, 41.00 msec","2.34 sec, 724.00 msec, 724.00 msec","2.11 sec, 226.00 msec, 228.00 msec","380.00 msec, 87.00 msec, 85.00 msec","648.00 msec, 88.00 msec, 92.00 msec"],"memory_usage":[[713196,1512167,859315],[1044281095,1061751337,1065857874],[143081365,142096261,142096261],[595252210,568894822,585137315],[657713321,690210788,697155477]],"memory_usage_readable":["713.20 KB, 1.51 MB, 859.32 KB","1.04 GB, 1.06 GB, 1.07 GB","143.08 MB, 142.10 MB, 142.10 MB","595.25 MB, 568.89 MB, 585.14 MB","657.71 MB, 690.21 MB, 697.16 MB"],"source":"clickhouse/results/m6i.8xlarge_bluesky_100m_lz4.json"}
,{"system":"ClickHouse (zstd)","version":"25.1.1.2571","os":"Ubuntu 24.04","date":"2025-01-13","machine":"m6i.8xlarge, 10000gib gp3","cluster_size":1,"comment":"","retains_structure":"yes","tags":[],"dataset_size":100000000,"dataset_size_readable":"100m","num_loaded_documents":99999968,"data_compression":"zstd","total_size":9684754080,"total_size_readable":"9.68 GB","data_size":9662584921,"data_size_readable":"9.66 GB","index_size":22169088,"index_size_readable":"22.17 MB","result":[[0.052,0.043,0.041],[1.001,0.763,0.765],[1.502,0.247,0.250],[0.124,0.094,0.092],[0.195,0.095,0.096]],"result_readable":["52.00 msec, 43.00 msec, 41.00 msec","1.00 sec, 763.00 msec, 765.00 msec","1.50 sec, 247.00 msec, 250.00 msec","124.00 msec, 94.00 msec, 92.00 msec","195.00 msec, 95.00 msec, 96.00 msec"],"memory_usage":[[784015,891324,1395384],[1034703427,1069950332,1052027034],[141832133,140988117,140988117],[573490495,584182275,597232896],[690147517,681601522,684611565]],"memory_usage_readable":["784.01 KB, 891.32 KB, 1.40 MB","1.03 GB, 1.07 GB, 1.05 GB","141.83 MB, 140.99 MB, 140.99 MB","573.49 MB, 584.18 MB, 597.23 MB","690.15 MB, 681.60 MB, 684.61 MB"],"source":"clickhouse/results/m6i.8xlarge_bluesky_100m_zstd.json"}
,{"system":"ClickHouse (lz4)","version":"25.1.1.2571","os":"Ubuntu 24.04","date":"2025-01-13","machine":"m6i.8xlarge, 10000gib gp3","cluster_size":1,"comment":"","retains_structure":"yes","tags":[],"dataset_size":10000000,"dataset_size_readable":"10m","num_loaded_documents":9999994,"data_compression":"lz4","total_size":1636685315,"total_size_readable":"1.64 GB","data_size":1635155418,"data_size_readable":"1.64 GB","index_size":1529863,"index_size_readable":"1.53 MB","result":[[0.014,0.008,0.008],[0.155,0.133,0.134],[0.051,0.037,0.040],[0.038,0.023,0.025],[0.042,0.029,0.025]],"result_readable":["14.00 msec, 8.00 msec, 8.00 msec","155.00 msec, 133.00 msec, 134.00 msec","51.00 msec, 37.00 msec, 40.00 msec","38.00 msec, 23.00 msec, 25.00 msec","42.00 msec, 29.00 msec, 25.00 msec"],"memory_usage":[[1025969,979623,850534],[289693872,274696015,263016878],[141884177,141597001,141597001],[204374002,200220685,200101066],[204576293,208646332,200235195]],"memory_usage_readable":["1.03 MB, 979.62 KB, 850.53 KB","289.69 MB, 274.70 MB, 263.02 MB","141.88 MB, 141.60 MB, 141.60 MB","204.37 MB, 200.22 MB, 200.10 MB","204.58 MB, 208.65 MB, 200.24 MB"],"source":"clickhouse/results/m6i.8xlarge_bluesky_10m_lz4.json"}
,{"system":"ClickHouse (zstd)","version":"25.1.1.2571","os":"Ubuntu 24.04","date":"2025-01-13","machine":"m6i.8xlarge, 10000gib gp3","cluster_size":1,"comment":"","retains_structure":"yes","tags":[],"dataset_size":10000000,"dataset_size_readable":"10m","num_loaded_documents":9999994,"data_compression":"zstd","total_size":995124869,"total_size_readable":"995.12 MB","993599478":1056861138,"data_size_readable":"993.60 MB","index_size":1525357,"index_size_readable":"1.53 MB","result":[[0.016,0.008,0.008],[0.166,0.141,0.150],[0.064,0.040,0.042],[0.044,0.026,0.024],[0.042,0.028,0.026]],"result_readable":["16.00 msec, 8.00 msec, 8.00 msec","166.00 msec, 141.00 msec, 150.00 msec","64.00 msec, 40.00 msec, 42.00 msec","44.00 msec, 26.00 msec, 24.00 msec","42.00 msec, 28.00 msec, 26.00 msec"],"memory_usage":[[590559,1051274,1205734],[270187643,282291213,261653591],[141094195,140810923,140810923],[199567823,195201258,195267941],[203996437,203772727,199532552]],"memory_usage_readable":["590.56 KB, 1.05 MB, 1.21 MB","270.19 MB, 282.29 MB, 261.65 MB","141.09 MB, 140.81 MB, 140.81 MB","199.57 MB, 195.20 MB, 195.27 MB","204.00 MB, 203.77 MB, 199.53 MB"],"source":"clickhouse/results/m6i.8xlarge_bluesky_10m_zstd.json"}
,{"system":"ClickHouse (lz4)","version":"25.1.1.2571","os":"Ubuntu 24.04","date":"2025-01-13","machine":"m6i.8xlarge, 10000gib gp3","cluster_size":1,"comment":"","retains_structure":"yes","tags":[],"dataset_size":1000000,"dataset_size_readable":"1m","num_loaded_documents":1000000,"data_compression":"lz4","total_size":162735429,"total_size_readable":"162.74 MB","data_size":162623843,"data_size_readable":"162.62 MB","index_size":111579,"index_size_readable":"111.58 KB","result":[[0.009,0.004,0.004],[0.036,0.023,0.024],[0.021,0.011,0.010],[0.034,0.019,0.017],[0.038,0.021,0.017]],"result_readable":["9.00 msec, 4.00 msec, 4.00 msec","36.00 msec, 23.00 msec, 24.00 msec","21.00 msec, 11.00 msec, 10.00 msec","34.00 msec, 19.00 msec, 17.00 msec","38.00 msec, 21.00 msec, 17.00 msec"],"memory_usage":[[1791510,1634290,1486871],[77337064,77275976,77275976],[7416935,4754228,6768205],[13084446,13068638,13068638],[15183014,15165990,15165990]],"memory_usage_readable":["1.79 MB, 1.63 MB, 1.49 MB","77.34 MB, 77.28 MB, 77.28 MB","7.42 MB, 4.75 MB, 6.77 MB","13.08 MB, 13.07 MB, 13.07 MB","15.18 MB, 15.17 MB, 15.17 MB"],"source":"clickhouse/results/m6i.8xlarge_bluesky_1m_lz4.json"}
,{"system":"ClickHouse (zstd)","version":"25.1.1.2571","os":"Ubuntu 24.04","date":"2025-01-13","machine":"m6i.8xlarge, 10000gib gp3","cluster_size":1,"comment":"","retains_structure":"yes","tags":[],"dataset_size":1000000,"dataset_size_readable":"1m","num_loaded_documents":1000000,"data_compression":"zstd","total_size":98560583,"total_size_readable":"98.56 MB","data_size":98449386,"data_size_readable":"98.45 MB","index_size":111190,"index_size_readable":"111.19 KB","result":[[0.011,0.004,0.004],[0.033,0.024,0.022],[0.023,0.011,0.010],[0.033,0.026,0.029],[0.037,0.023,0.021]],"result_readable":["11.00 msec, 4.00 msec, 4.00 msec","33.00 msec, 24.00 msec, 22.00 msec","23.00 msec, 11.00 msec, 10.00 msec","33.00 msec, 26.00 msec, 29.00 msec","37.00 msec, 23.00 msec, 21.00 msec"],"memory_usage":[[884312,1849931,1633834],[76410278,72165557,76362246],[5557964,2580507,2713186],[12950030,12938382,12938382],[15048278,15035734,15035734]],"memory_usage_readable":["884.31 KB, 1.85 MB, 1.63 MB","76.41 MB, 72.17 MB, 76.36 MB","5.56 MB, 2.58 MB, 2.71 MB","12.95 MB, 12.94 MB, 12.94 MB","15.05 MB, 15.04 MB, 15.04 MB"],"source":"clickhouse/results/m6i.8xlarge_bluesky_1m_zstd.json"}
,{"system":"DuckDB","version":"1.1.3","os":"Ubuntu 24.04","date":"2025-01-14","machine":"m6i.8xlarge, 16000gib gp3","cluster_size":1,"comment":"","retains_structure":"yes","tags":[],"dataset_size":1000000000,"dataset_size_readable":"1000m","num_loaded_documents":974400000,"data_compression":"auto","total_size":472594513920,"total_size_readable":"472 GB","result":[[3741.938,3732.441,3731.713],[3748.548,3737.248,3741.860],[3746.684,3731.458,3729.542],[3746.500,3735.854,3739.261],[3748.528,3736.934,3740.101]],"result_readable":["1 hr 2 min 21.94 sec, 1 hr 2 min 12.44 sec, 1 hr 2 min 11.71 sec","1 hr 2 min 28.55 sec, 1 hr 2 min 17.25 sec, 1 hr 2 min 21.86 sec","1 hr 2 min 26.68 sec, 1 hr 2 min 11.46 sec, 1 hr 2 min 9.54 sec","1 hr 2 min 26.50 sec, 1 hr 2 min 15.85 sec, 1 hr 2 min 19.26 sec","1 hr 2 min 28.53 sec, 1 hr 2 min 16.93 sec, 1 hr 2 min 20.10 sec"],"source":"duckdb/results/m6i.8xlarge_bluesky_1000m.json"}
,{"system":"DuckDB","version":"1.1.3","os":"Ubuntu 24.04","date":"2025-01-14","machine":"m6i.8xlarge, 16000gib gp3","cluster_size":1,"comment":"","retains_structure":"yes","tags":[],"dataset_size":100000000,"dataset_size_readable":"100m","num_loaded_documents":100000000,"data_compression":"auto","total_size":47934865408,"total_size_readable":"47.93 GB","result":[[373.230,10.743,10.760],[373.570,14.974,14.978],[373.282,13.486,13.443],[373.364,7.549,7.530],[373.560,8.071,8.060]],"result_readable":["6 min 13.23 sec, 10.74 sec, 10.76 sec","6 min 13.57 sec, 14.97 sec, 14.98 sec","6 min 13.28 sec, 13.49 sec, 13.44 sec","6 min 13.36 sec, 7.55 sec, 7.53 sec","6 min 13.56 sec, 8.07 sec, 8.06 sec"],"source":"duckdb/results/m6i.8xlarge_bluesky_100m.json"}
,{"system":"DuckDB","version":"1.1.3","os":"Ubuntu 24.04","date":"2025-01-14","machine":"m6i.8xlarge, 16000gib gp3","cluster_size":1,"comment":"","retains_structure":"yes","tags":[],"dataset_size":10000000,"dataset_size_readable":"10m","num_loaded_documents":10000000,"data_compression":"auto","total_size":4893442048,"total_size_readable":"4.89 GB","result":[[37.332,1.179,1.196],[37.361,1.639,1.645],[37.343,1.598,1.613],[37.363,1.060,1.065],[37.439,1.183,1.213]],"result_readable":["37.33 sec, 1.18 sec, 1.20 sec","37.36 sec, 1.64 sec, 1.65 sec","37.34 sec, 1.60 sec, 1.61 sec","37.36 sec, 1.06 sec, 1.06 sec","37.44 sec, 1.18 sec, 1.21 sec"],"source":"duckdb/results/m6i.8xlarge_bluesky_10m.json"}
,{"system":"DuckDB","version":"1.1.3","os":"Ubuntu 24.04","date":"2025-01-14","machine":"m6i.8xlarge, 16000gib gp3","cluster_size":1,"comment":"","retains_structure":"yes","tags":[],"dataset_size":1000000,"dataset_size_readable":"1m","num_loaded_documents":1000000,"data_compression":"auto","total_size":484704256,"total_size_readable":"484 MB","result":[[2.797,0.230,0.228],[2.810,0.319,0.315],[2.809,0.327,0.330],[2.802,0.250,0.247],[2.822,0.259,0.256]],"result_readable":["2.80 sec, 230.00 msec, 228.00 msec","2.81 sec, 319.00 msec, 315.00 msec","2.81 sec, 327.00 msec, 330.00 msec","2.80 sec, 250.00 msec, 247.00 msec","2.82 sec, 259.00 msec, 256.00 msec"],"source":"duckdb/results/m6i.8xlarge_bluesky_1m.json"}
,{"system":"Elasticsearch (no source, best compression)","version":"8.17.0","os":"Ubuntu 24.04","date":"2025-01-14","machine":"m6i.8xlarge, 16000gib gp3","cluster_size":1,"comment":"","retains_structure":"no","tags":[],"dataset_size":1000000000,"dataset_size_readable":"1000m","num_loaded_documents":999998998,"data_compression":"zstd","total_size":235840659266,"total_size_readable":"219.6 GB","result":[[5.022,5.019,5.078],[51.486,45.510,45.713],[41.789,41.359,41.608],[8.807,8.812,8.711],[9.696,9.723,9.533]],"result_readable":["5.02 sec, 5.02 sec, 5.08 sec","51.49 sec, 45.51 sec, 45.71 sec","41.79 sec, 41.36 sec, 41.61 sec","8.81 sec, 8.81 sec, 8.71 sec","9.70 sec, 9.72 sec, 9.53 sec"],"source":"elasticsearch/results/m6i.8xlarge_bluesky_no_source_1000m_best_compression.json"}
,{"system":"Elasticsearch (no source, default)","version":"8.17.0","os":"Ubuntu 24.04","date":"2025-01-14","machine":"m6i.8xlarge, 16000gib gp3","cluster_size":1,"comment":"","retains_structure":"no","tags":[],"dataset_size":1000000000,"dataset_size_readable":"1000m","num_loaded_documents":999999106,"data_compression":"lz4","total_size":238598578300,"total_size_readable":"222 GB","result":[[4.427,4.294,4.382],[46.690,41.966,42.483],[39.386,39.241,38.131],[8.575,8.428,8.386],[9.362,9.322,9.299]],"result_readable":["4.43 sec, 4.29 sec, 4.38 sec","46.69 sec, 41.97 sec, 42.48 sec","39.39 sec, 39.24 sec, 38.13 sec","8.57 sec, 8.43 sec, 8.39 sec","9.36 sec, 9.32 sec, 9.30 sec"],"source":"elasticsearch/results/m6i.8xlarge_bluesky_no_source_1000m_default_compression.json"}
,{"system":"Elasticsearch (no source, best compression)","version":"8.17.0","os":"Ubuntu 24.04","date":"2025-01-14","machine":"m6i.8xlarge, 16000gib gp3","cluster_size":1,"comment":"","retains_structure":"no","tags":[],"dataset_size":100000000,"dataset_size_readable":"100m","num_loaded_documents":99999947,"data_compression":"zstd","data_size":21268479403,"data_size_readable":"19.8 GB","result":[[2.532,2.536,2.486],[23.194,22.932,23.188],[19.521,19.321,19.159],[2.867,2.791,2.884],[3.099,3.136,3.171]],"result_readable":["2.53 sec, 2.54 sec, 2.49 sec","23.19 sec, 22.93 sec, 23.19 sec","19.52 sec, 19.32 sec, 19.16 sec","2.87 sec, 2.79 sec, 2.88 sec","3.10 sec, 3.14 sec, 3.17 sec"],"source":"elasticsearch/results/m6i.8xlarge_bluesky_no_source_100m_best_compression.json"}
,{"system":"Elasticsearch (no source, default)","version":"8.17.0","os":"Ubuntu 24.04","date":"2025-01-14","machine":"m6i.8xlarge, 16000gib gp3","cluster_size":1,"comment":"","retains_structure":"no","tags":[],"dataset_size":100000000,"dataset_size_readable":"100m","num_loaded_documents":99999947,"data_compression":"lz4","total_size":21240210194,"total_size_readable":"19.7 GB","result":[[2.519,2.524,2.483],[23.610,23.215,23.230],[19.762,20.236,19.979],[2.868,2.809,2.841],[3.075,3.103,3.117]],"result_readable":["2.52 sec, 2.52 sec, 2.48 sec","23.61 sec, 23.21 sec, 23.23 sec","19.76 sec, 20.24 sec, 19.98 sec","2.87 sec, 2.81 sec, 2.84 sec","3.08 sec, 3.10 sec, 3.12 sec"],"source":"elasticsearch/results/m6i.8xlarge_bluesky_no_source_100m_default_compression.json"}
,{"system":"Elasticsearch (no source, best compression)","version":"8.17.0","os":"Ubuntu 24.04","date":"2025-01-14","machine":"m6i.8xlarge, 16000gib gp3","cluster_size":1,"comment":"","retains_structure":"no","tags":[],"dataset_size":10000000,"dataset_size_readable":"10m","num_loaded_documents":9999998,"data_compression":"zstd","total_size":2834172690,"total_size_readable":"2.6 GB","result":[[0.270,0.263,0.275],[2.942,2.683,2.655],[2.014,2.008,2.037],[0.414,0.412,0.437],[0.562,0.470,0.463]],"result_readable":["270.00 msec, 263.00 msec, 275.00 msec","2.94 sec, 2.68 sec, 2.65 sec","2.01 sec, 2.01 sec, 2.04 sec","414.00 msec, 412.00 msec, 437.00 msec","562.00 msec, 470.00 msec, 463.00 msec"],"source":"elasticsearch/results/m6i.8xlarge_bluesky_no_source_10m_best_compression.json"}
,{"system":"Elasticsearch (no source, default)","version":"8.17.0","os":"Ubuntu 24.04","date":"2025-01-14","machine":"m6i.8xlarge, 16000gib gp3","cluster_size":1,"comment":"","retains_structure":"no","tags":[],"dataset_size":10000000,"dataset_size_readable":"10m","num_loaded_documents":9999998,"data_compression":"lz4","total_size":3128506511,"total_size_readable":"2.9 GB","result":[[0.268,0.269,0.259],[2.631,2.638,2.557],[2.099,2.049,2.066],[0.412,0.407,0.405],[0.468,0.466,0.462]],"result_readable":["268.00 msec, 269.00 msec, 259.00 msec","2.63 sec, 2.64 sec, 2.56 sec","2.10 sec, 2.05 sec, 2.07 sec","412.00 msec, 407.00 msec, 405.00 msec","468.00 msec, 466.00 msec, 462.00 msec"],"source":"elasticsearch/results/m6i.8xlarge_bluesky_no_source_10m_default_compression.json"}
,{"system":"Elasticsearch (no source, best compression)","version":"8.17.0","os":"Ubuntu 24.04","date":"2025-01-14","machine":"m6i.8xlarge, 16000gib gp3","cluster_size":1,"comment":"","retains_structure":"no","tags":[],"dataset_size":1000000,"dataset_size_readable":"1m","num_loaded_documents":1000000,"data_compression":"zstd","total_size":400948257,"total_size_readable":"382.3 MB","result":[[0.041,0.037,0.035],[0.426,0.321,0.323],[0.192,0.186,0.213],[0.056,0.052,0.053],[0.099,0.061,0.060]],"result_readable":["41.00 msec, 37.00 msec, 35.00 msec","426.00 msec, 321.00 msec, 323.00 msec","192.00 msec, 186.00 msec, 213.00 msec","56.00 msec, 52.00 msec, 53.00 msec","99.00 msec, 61.00 msec, 60.00 msec"],"source":"elasticsearch/results/m6i.8xlarge_bluesky_no_source_1m_best_compression.json"}
,{"system":"Elasticsearch (no source, default)","version":"8.17.0","os":"Ubuntu 24.04","date":"2025-01-14","machine":"m6i.8xlarge, 16000gib gp3","cluster_size":1,"comment":"","retains_structure":"no","tags":[],"dataset_size":1000000,"dataset_size_readable":"1m","num_loaded_documents":1000000,"data_compression":"lz4","total_size":481917965,"total_size_readable":"459.4 MB","result":[[0.035,0.035,0.033],[0.343,0.330,0.317],[0.192,0.196,0.189],[0.049,0.049,0.049],[0.057,0.057,0.057]],"result_readable":["35.00 msec, 35.00 msec, 33.00 msec","343.00 msec, 330.00 msec, 317.00 msec","192.00 msec, 196.00 msec, 189.00 msec","49.00 msec, 49.00 msec, 49.00 msec","57.00 msec, 57.00 msec, 57.00 msec"],"source":"elasticsearch/results/m6i.8xlarge_bluesky_no_source_1m_default_compression.json"}
,{"system":"Elasticsearch (best compression)","version":"8.17.0","os":"Ubuntu 24.04","date":"2025-01-14","machine":"m6i.8xlarge, 16000gib gp3","cluster_size":1,"comment":"","retains_structure":"yes","tags":[],"dataset_size":1000000000,"dataset_size_readable":"1000m","num_loaded_documents":999999101,"data_compression":"zstd","total_size":386099682721,"total_size_readable":"359.6 GB","result":[[3.854,3.884,4.081],[37.078,29.084,28.548],[24.382,24.279,23.570],[8.106,8.228,8.080],[9.208,8.994,9.084]],"result_readable":["3.85 sec, 3.88 sec, 4.08 sec","37.08 sec, 29.08 sec, 28.55 sec","24.38 sec, 24.28 sec, 23.57 sec","8.11 sec, 8.23 sec, 8.08 sec","9.21 sec, 8.99 sec, 9.08 sec"],"source":"elasticsearch/results/m6i.8xlarge_bluesky_source_1000m_best_compression.json"}
,{"system":"Elasticsearch (default)","version":"8.17.0","os":"Ubuntu 24.04","date":"2025-01-14","machine":"m6i.8xlarge, 16000gib gp3","cluster_size":1,"comment":"","retains_structure":"yes","tags":[],"dataset_size":1000000000,"dataset_size_readable":"1000m","num_loaded_documents":999999153,"data_compression":"lz4","total_size":488061838541,"total_size_readable":"454.5 GB","result":[[3.087,3.026,3.060],[35.117,27.380,27.745],[24.882,25.534,24.787],[8.899,8.912,8.731],[9.748,9.733,9.797]],"result_readable":["3.09 sec, 3.03 sec, 3.06 sec","35.12 sec, 27.38 sec, 27.75 sec","24.88 sec, 25.53 sec, 24.79 sec","8.90 sec, 8.91 sec, 8.73 sec","9.75 sec, 9.73 sec, 9.80 sec"],"source":"elasticsearch/results/m6i.8xlarge_bluesky_source_1000m_default_compression.json"}
,{"system":"Elasticsearch (best compression)","version":"8.17.0","os":"Ubuntu 24.04","date":"2025-01-14","machine":"m6i.8xlarge, 16000gib gp3","cluster_size":1,"comment":"","retains_structure":"yes","tags":[],"dataset_size":100000000,"dataset_size_readable":"100m","num_loaded_documents":99999947,"data_compression":"zstd","total_size":34182479705,"total_size_readable":"31.8 GB","result":[[2.765,2.718,2.799],[20.788,20.822,20.270],[16.306,16.642,15.693],[2.454,2.461,2.423],[2.761,2.768,2.784]],"result_readable":["2.77 sec, 2.72 sec, 2.80 sec","20.79 sec, 20.82 sec, 20.27 sec","16.31 sec, 16.64 sec, 15.69 sec","2.45 sec, 2.46 sec, 2.42 sec","2.76 sec, 2.77 sec, 2.78 sec"],"source":"elasticsearch/results/m6i.8xlarge_bluesky_source_100m_best_compression.json"}
,{"system":"Elasticsearch (default)","version":"8.17.0","os":"Ubuntu 24.04","date":"2025-01-14","machine":"m6i.8xlarge, 16000gib gp3","cluster_size":1,"comment":"","retains_structure":"yes","tags":[],"dataset_size":100000000,"dataset_size_readable":"100m","num_loaded_documents":99999947,"data_compression":"lz4","total_size":42432097529,"total_size_readable":"39.5 GB","result":[[2.520,2.507,2.592],[23.055,22.842,22.868],[19.873,20.199,19.585],[2.891,2.819,2.791],[3.144,3.183,3.171]],"result_readable":["2.52 sec, 2.51 sec, 2.59 sec","23.05 sec, 22.84 sec, 22.87 sec","19.87 sec, 20.20 sec, 19.59 sec","2.89 sec, 2.82 sec, 2.79 sec","3.14 sec, 3.18 sec, 3.17 sec"],"source":"elasticsearch/results/m6i.8xlarge_bluesky_source_100m_default_compression.json"}
,{"system":"Elasticsearch (best compression)","version":"8.17.0","os":"Ubuntu 24.04","date":"2025-01-14","machine":"m6i.8xlarge, 16000gib gp3","cluster_size":1,"comment":"","retains_structure":"yes","tags":[],"dataset_size":10000000,"dataset_size_readable":"10m","num_loaded_documents":9999998,"data_compression":"zstd","total_size":3785308904,"total_size_readable":"3.5 GB","result":[[0.286,0.290,0.287],[2.487,2.367,2.406],[1.747,1.671,1.656],[0.368,0.360,0.364],[0.423,0.424,0.422]],"result_readable":["286.00 msec, 290.00 msec, 287.00 msec","2.49 sec, 2.37 sec, 2.41 sec","1.75 sec, 1.67 sec, 1.66 sec","368.00 msec, 360.00 msec, 364.00 msec","423.00 msec, 424.00 msec, 422.00 msec"],"source":"elasticsearch/results/m6i.8xlarge_bluesky_source_10m_best_compression.json"}
,{"system":"Elasticsearch (default)","version":"8.17.0","os":"Ubuntu 24.04","date":"2025-01-14","machine":"m6i.8xlarge, 16000gib gp3","cluster_size":1,"comment":"","retains_structure":"yes","tags":[],"dataset_size":10000000,"dataset_size_readable":"10m","num_loaded_documents":9999998,"data_compression":"lz4","total_size":4600428060,"total_size_readable":"4.2 GB","result":[[0.266,0.274,0.266],[2.753,2.634,2.620],[2.048,2.130,2.020],[0.417,0.399,0.402],[0.465,0.466,0.480]],"result_readable":["266.00 msec, 274.00 msec, 266.00 msec","2.75 sec, 2.63 sec, 2.62 sec","2.05 sec, 2.13 sec, 2.02 sec","417.00 msec, 399.00 msec, 402.00 msec","465.00 msec, 466.00 msec, 480.00 msec"],"source":"elasticsearch/results/m6i.8xlarge_bluesky_source_10m_default_compression.json"}
,{"system":"Elasticsearch (best compression)","version":"8.17.0","os":"Ubuntu 24.04","date":"2025-01-14","machine":"m6i.8xlarge, 16000gib gp3","cluster_size":1,"comment":"","retains_structure":"yes","tags":[],"dataset_size":1000000,"dataset_size_readable":"1m","num_loaded_documents":1000000,"data_compression":"zstd","total_size":400974094,"total_size_readable":"382.3 MB","result":[[0.039,0.036,0.036],[0.344,0.303,0.305],[0.171,0.166,0.159],[0.047,0.047,0.049],[0.056,0.056,0.056]],"result_readable":["39.00 msec, 36.00 msec, 36.00 msec","344.00 msec, 303.00 msec, 305.00 msec","171.00 msec, 166.00 msec, 159.00 msec","47.00 msec, 47.00 msec, 49.00 msec","56.00 msec, 56.00 msec, 56.00 msec"],"source":"elasticsearch/results/m6i.8xlarge_bluesky_source_1m_best_compression.json"}
,{"system":"Elasticsearch","version":"8.17.0","os":"Ubuntu 24.04","date":"2025-01-14","machine":"m6i.8xlarge, 16000gib gp3","cluster_size":1,"comment":"","retains_structure":"yes","tags":[],"dataset_size":1000000,"dataset_size_readable":"1m","num_loaded_documents":1000000,"data_compression":"lz4","total_size":932793512,"total_size_readable":"889.5 MB","result":[[0.037,0.034,0.035],[0.350,0.320,0.328],[0.199,0.193,0.190],[0.048,0.050,0.049],[0.057,0.059,0.058]],"result_readable":["37.00 msec, 34.00 msec, 35.00 msec","350.00 msec, 320.00 msec, 328.00 msec","199.00 msec, 193.00 msec, 190.00 msec","48.00 msec, 50.00 msec, 49.00 msec","57.00 msec, 59.00 msec, 58.00 msec"],"source":"elasticsearch/results/m6i.8xlarge_bluesky_source_1m_default_compression.json"}
,{"system":"GreptimeDB","version":"v0.13.0-nightly-20250315","os":"Ubuntu 24.04","date":"2025-03-17","machine":"m6i.8xlarge, 10000gib gp3","cluster_size":1,"comment":"","retains_structure":"yes","tags":[],"dataset_size":1000000000,"dataset_size_readable":"1000m","num_loaded_documents":999999233,"data_compression":"auto","total_size":108807967659,"total_size_readable":"109 GB","data_size":108803194662,"data_size_readable":"109 GB","index_size":4642437,"index_size_readable":"5 MB","result":[[13.656,1.532,1.521],[93.498,20.821,21.903],[2.148,2.058,2.095],[0.522,0.461,0.439],[1.773,1.68,1.675]],"result_readable":["13.66 sec, 1.53 sec, 1.52 sec","93.50 sec, 20.82 sec, 21.90 sec","2.15 sec, 2.06 sec, 2.10 sec","0.52 sec, 0.46 sec, 0.44 sec","1.77 sec, 1.68 sec, 1.68 sec"],"source":"greptimedb/results/m6i.8xlarge_bluesky_1000m.json"}
,{"system":"GreptimeDB","version":"v0.13.0-nightly-20250315","os":"Ubuntu 24.04","date":"2025-03-17","machine":"m6i.8xlarge, 10000gib gp3","cluster_size":1,"comment":"","retains_structure":"yes","tags":[],"dataset_size":100000000,"dataset_size_readable":"100m","num_loaded_documents":99999968,"data_compression":"auto","total_size":10824010671,"total_size_readable":"10.82 GB","data_size":10823634560,"data_size_readable":"10.82 GB","index_size":348815,"index_size_readable":"349 KB","result":[[0.496,0.167,0.165],[10.286,3.031,3.294],[0.306,0.219,0.215],[0.146,0.069,0.065],[0.285,0.197,0.19]],"result_readable":["496.00 msec, 167.00 msec, 165.00 msec","10.29 sec, 3.03 sec, 3.29 sec","0.31 sec, 0.22 sec, 0.22 sec","0.15 sec, 69.00 msec, 65.00 msec","0.29 sec, 0.20 sec, 0.19 sec"],"source":"greptimedb/results/m6i.8xlarge_bluesky_100m.json"}
,{"system":"GreptimeDB","version":"v0.13.0-nightly-20250315","os":"Ubuntu 24.04","date":"2025-03-17","machine":"m6i.8xlarge, 10000gib gp3","cluster_size":1,"comment":"","retains_structure":"yes","tags":[],"dataset_size":10000000,"dataset_size_readable":"10m","num_loaded_documents":9999994,"data_compression":"auto","total_size":1136875364,"total_size_readable":"1.14 GB","data_size":1136814387,"data_size_readable":"1.14 GB","index_size":55651,"index_size_readable":"56 KB","result":[[0.129,0.032,0.029],[0.492,0.389,0.383],[0.129,0.041,0.039],[0.106,0.029,0.027],[0.148,0.054,0.051]],"result_readable":["129.00 msec, 32.00 msec, 29.00 msec","492.00 msec, 389.00 msec, 383.00 msec","129.00 msec, 41.00 msec, 39.00 msec","106.00 msec, 29.00 msec, 27.00 msec","148.00 msec, 54.00 msec, 51.00 msec"],"source":"greptimedb/results/m6i.8xlarge_bluesky_10m.json"}
,{"system":"GreptimeDB","version":"v0.13.0-nightly-20250315","os":"Ubuntu 24.04","date":"2025-03-17","machine":"m6i.8xlarge, 10000gib gp3","cluster_size":1,"comment":"","retains_structure":"yes","tags":[],"dataset_size":1000000,"dataset_size_readable":"1m","num_loaded_documents":1000000,"data_compression":"auto","total_size":112555783,"total_size_readable":"113 MB","data_size":112546830,"data_size_readable":"113 MB","index_size":7048,"index_size_readable":"7 KB","result":[[0.126,0.014,0.012],[0.187,0.07,0.069],[0.11,0.014,0.022],[0.089,0.018,0.014],[0.098,0.026,0.016]],"result_readable":["126.00 msec, 14.00 msec, 12.00 msec","187.00 msec, 70.00 msec, 69.00 msec","110.00 msec, 14.00 msec, 22.00 msec","89.00 msec, 18.00 msec, 14.00 msec","98.00 msec, 26.00 msec, 16.00 msec"],"source":"greptimedb/results/m6i.8xlarge_bluesky_1m.json"}
,{"system":"MongoDB (snappy, covered index)","version":"8.0.3","os":"Ubuntu 24.04","date":"2025-01-13","machine":"m6i.8xlarge, 10000gib gp3","cluster_size":1,"comment":"","retains_structure":"yes","tags":[],"dataset_size":1000000000,"dataset_size_readable":"1000m","num_loaded_documents":893632990,"data_compression":"snappy","total_size":248580009984,"total_size_readable":"248.58 GB","data_size":221332566016,"data_size_readable":"221.33 GB","index_size":27247443968,"index_size_readable":"27.25 GB","result":[[987.157,984.441,988.002],[21177.1,21130,21520.6],[1242.34,1229.8,1235.88],[161.845,162.1,162.285],[166.271,166.134,165.7]],"result_readable":["16 min 27.16 sec, 16 min 24.44 sec, 16 min 28.00 sec","5 hr 52 min 57.10 sec, 5 hr 52 min 10.00 sec, 5 hr 58 min 40.60 sec","20 min 42.34 sec, 20 min 29.80 sec, 20 min 35.88 sec","2 min 41.84 sec, 2 min 42.10 sec, 2 min 42.28 sec","2 min 46.27 sec, 2 min 46.13 sec, 2 min 45.70 sec"],"source":"mongodb/results/m6i.8xlarge_bluesky_1000m_snappy.json"}
,{"system":"MongoDB (zstd, covered index)","version":"8.0.3","os":"Ubuntu 24.04","date":"2025-01-13","machine":"m6i.8xlarge, 10000gib gp3","cluster_size":1,"comment":"","retains_structure":"yes","tags":[],"dataset_size":1000000000,"dataset_size_readable":"1000m","num_loaded_documents":893632990,"data_compression":"zstd","total_size":158276513792,"total_size_readable":"158.28 GB","data_size":130998910976,"data_size_readable":"131.00 GB","index_size":27277602816,"index_size_readable":"27.28 GB","result":[[992.518,977.968,983.272],[21558.6,21530.5,21379.2],[1238.16,1231,1242.69],[162.668,162.236,162.897],[165.783,166.72,165.989]],"result_readable":["16 min 32.52 sec, 16 min 17.97 sec, 16 min 23.27 sec","5 hr 59 min 18.60 sec, 5 hr 58 min 50.50 sec, 5 hr 56 min 19.20 sec","20 min 38.16 sec, 20 min 31.00 sec, 20 min 42.69 sec","2 min 42.67 sec, 2 min 42.24 sec, 2 min 42.90 sec","2 min 45.78 sec, 2 min 46.72 sec, 2 min 45.99 sec"],"source":"mongodb/results/m6i.8xlarge_bluesky_1000m_zstd.json"}
,{"system":"MongoDB (snappy, covered index)","version":"8.0.3","os":"Ubuntu 24.04","date":"2025-01-13","machine":"m6i.8xlarge, 10000gib gp3","cluster_size":1,"comment":"","retains_structure":"yes","tags":[],"dataset_size":100000000,"dataset_size_readable":"100m","num_loaded_documents":94408000,"data_compression":"snappy","total_size":26336047104,"total_size_readable":"26.34 GB","data_size":23520026624,"data_size_readable":"23.52 GB","index_size":2816020480,"index_size_readable":"2.82 GB","result":[[8.824,8.558,8.519],[32.831,34.321,34.477],[10.825,10.725,10.763],[1.723,1.762,1.736],[1.841,1.869,1.857]],"result_readable":["8.82 sec, 8.56 sec, 8.52 sec","32.83 sec, 34.32 sec, 34.48 sec","10.82 sec, 10.72 sec, 10.76 sec","1.72 sec, 1.76 sec, 1.74 sec","1.84 sec, 1.87 sec, 1.86 sec"],"source":"mongodb/results/m6i.8xlarge_bluesky_100m_snappy.json"}
,{"system":"MongoDB (zstd, covered index)","version":"8.0.3","os":"Ubuntu 24.04","date":"2025-01-13","machine":"m6i.8xlarge, 10000gib gp3","cluster_size":1,"comment":"","retains_structure":"yes","tags":[],"dataset_size":100000000,"dataset_size_readable":"100m","num_loaded_documents":94408000,"data_compression":"zstd","total_size":16577900544,"total_size_readable":"16.57 GB","data_size":13758480384,"data_size_readable":"13.76 GB","index_size":2819420160,"index_size_readable":"2.82 GB","result":[[105.051,102.811,101.4],[1440.91,1472.03,1440.5],[123.522,123.082,123.149],[17.125,17.251,17.238],[17.962,17.913,17.852]],"result_readable":["1 min 45.05 sec, 1 min 42.81 sec, 1 min 41.40 sec","24 min 0.91 sec, 24 min 32.03 sec, 24 min 0.50 sec","2 min 3.52 sec, 2 min 3.08 sec, 2 min 3.15 sec","17.12 sec, 17.25 sec, 17.24 sec","17.96 sec, 17.91 sec, 17.85 sec"],"source":"mongodb/results/m6i.8xlarge_bluesky_100m_zstd.json"}
,{"system":"MongoDB (snappy, covered index)","version":"8.0.3","os":"Ubuntu 24.04","date":"2025-01-13","machine":"m6i.8xlarge, 10000gib gp3","cluster_size":1,"comment":"","retains_structure":"yes","tags":[],"dataset_size":10000000,"dataset_size_readable":"10m","num_loaded_documents":7860000,"data_compression":"snappy","total_size":2200559616,"total_size_readable":"2.20 GB","data_size":1947783168,"data_size_readable":"1.95 GB","index_size":252776448,"index_size_readable":"252.78","result":[[8.824,8.558,8.519],[32.831,34.321,34.477],[10.825,10.725,10.763],[1.723,1.762,1.736],[1.841,1.869,1.857]],"result_readable":["8.82 sec, 8.56 sec, 8.52 sec","32.83 sec, 34.32 sec, 34.48 sec","10.82 sec, 10.72 sec, 10.76 sec","1.72 sec, 1.76 sec, 1.74 sec","1.84 sec, 1.87 sec, 1.86 sec"],"source":"mongodb/results/m6i.8xlarge_bluesky_10m_snappy.json"}
,{"system":"MongoDB (zstd, covered index)","version":"8.0.3","os":"Ubuntu 24.04","date":"2025-01-13","machine":"m6i.8xlarge, 10000gib gp3","cluster_size":1,"comment":"","retains_structure":"yes","tags":[],"dataset_size":10000000,"dataset_size_readable":"10m","num_loaded_documents":7860000,"data_compression":"zstd","total_size":1465458688,"total_size_readable":"1.47 GB","data_size":1212796928,"data_size_readable":"1.21 GB","index_size":252661760,"index_size_readable":"252.66 MB","result":[[8.845,8.541,8.476],[30.208,31.527,33.274],[10.843,10.723,10.697],[1.721,1.714,1.741],[1.851,1.859,1.843]],"result_readable":["8.85 sec, 8.54 sec, 8.48 sec","30.21 sec, 31.53 sec, 33.27 sec","10.84 sec, 10.72 sec, 10.70 sec","1.72 sec, 1.71 sec, 1.74 sec","1.85 sec, 1.86 sec, 1.84 sec"],"source":"mongodb/results/m6i.8xlarge_bluesky_10m_zstd.json"}
,{"system":"MongoDB (snappy, covered index)","version":"8.0.3","os":"Ubuntu 24.04","date":"2025-01-13","machine":"m6i.8xlarge, 10000gib gp3","cluster_size":1,"comment":"","retains_structure":"yes","tags":[],"dataset_size":1000000,"dataset_size_readable":"1m","num_loaded_documents":1000000,"data_compression":"snappy","total_size":287158272,"total_size_readable":"287.16 MB","data_size":253288448,"data_size_readable":"253.29 MB","index_size":33869824,"index_size_readable":"33.87 MB","result":[[1.157,1.098,1.102],[1.742,1.747,1.768],[1.344,1.335,1.326],[0.224,0.22,0.224],[0.243,0.239,0.242]],"result_readable":["1.16 sec, 1.10 sec, 1.10 sec","1.74 sec, 1.75 sec, 1.77 sec","1.34 sec, 1.33 sec, 1.33 sec","224.00 msec, 220.00 msec, 224.00 msec","243.00 msec, 239.00 msec, 242.00 msec"],"source":"mongodb/results/m6i.8xlarge_bluesky_1m_snappy.json"}
,{"system":"MongoDB (zstd, covered index)","version":"8.0.3","os":"Ubuntu 24.04","date":"2025-01-13","machine":"m6i.8xlarge, 10000gib gp3","cluster_size":1,"comment":"","retains_structure":"yes","tags":[],"dataset_size":1000000,"dataset_size_readable":"1m","num_loaded_documents":1000000,"data_compression":"zstd","total_size":189222912,"total_size_readable":"189.22 MB","data_size":155348992,"data_size_readable":"155.35 MB","index_size":33873920,"index_size_readable":"33.87 MB","result":[[1.159,1.108,1.1],[1.765,1.717,1.737],[1.37,1.34,1.325],[0.22,0.248,0.228],[0.241,0.242,0.244]],"result_readable":["1.16 sec, 1.11 sec, 1.10 sec","1.76 sec, 1.72 sec, 1.74 sec","1.37 sec, 1.34 sec, 1.32 sec","220.00 msec, 248.00 msec, 228.00 msec","241.00 msec, 242.00 msec, 244.00 msec"],"source":"mongodb/results/m6i.8xlarge_bluesky_1m_zstd.json"}
,{"system":"MongoDB (snappy)","version":"8.0.3","os":"Ubuntu 24.04","date":"2025-01-13","machine":"m6i.8xlarge, 10000gib gp3","cluster_size":1,"comment":"","retains_structure":"yes","tags":[],"dataset_size":1000000000,"dataset_size_readable":"1000m","num_loaded_documents":893632990,"data_compression":"snappy","total_size":245411815424,"total_size_readable":"245.41 GB","data_size":221332566016,"data_size_readable":"221.33 GB","index_size":24079249408,"index_size_readable":"24.08 GB","result":[[1974.18,1956.12,1957.9],[45189.1,43107.3,42923.6],[6354.06,6348.55,6347.45],[2031.61,2022.65,2020.14],[2054.2,2041.93,2040.19]],"result_readable":["32 min 54.18 sec, 32 min 36.12 sec, 32 min 37.90 sec","12 hr 33 min 9.10 sec, 11 hr 58 min 27.30 sec, 11 hr 55 min 23.60 sec","1 hr 45 min 54.06 sec, 1 hr 45 min 48.55 sec, 1 hr 45 min 47.45 sec","33 min 51.61 sec, 33 min 42.65 sec, 33 min 40.14 sec","34 min 14.20 sec, 34 min 1.93 sec, 34 min 0.19 sec"],"source":"mongodb/results_without_covered_index_scans/m6i.8xlarge_bluesky_1000m_snappy.json"}
,{"system":"MongoDB (zstd)","version":"8.0.3","os":"Ubuntu 24.04","date":"2025-01-13","machine":"m6i.8xlarge, 10000gib gp3","cluster_size":1,"comment":"","retains_structure":"yes","tags":[],"dataset_size":1000000000,"dataset_size_readable":"1000m","num_loaded_documents":893632990,"data_compression":"zstd","total_size":155395039232,"total_size_readable":"155.40 GB","data_size":130998910976,"data_size_readable":"131.00 GB","index_size":24396128256,"index_size_readable":"24.40 GB","result":[[1689.1,1667.27,1664.9],[41945.3,40318.9,40753.6],[5459.58,5456.72,5451.42],[1692.29,1674.86,1674.57],[1714.64,1698.16,1699.13]],"result_readable":["28 min 9.10 sec, 27 min 47.27 sec, 27 min 44.90 sec","11 hr 39 min 5.30 sec, 11 hr 11 min 58.90 sec, 11 hr 19 min 13.60 sec","1 hr 30 min 59.58 sec, 1 hr 30 min 56.72 sec, 1 hr 30 min 51.42 sec","28 min 12.29 sec, 27 min 54.86 sec, 27 min 54.57 sec","28 min 34.64 sec, 28 min 18.16 sec, 28 min 19.13 sec"],"source":"mongodb/results_without_covered_index_scans/m6i.8xlarge_bluesky_1000m_zstd.json"}
,{"system":"MongoDB (snappy)","version":"8.0.3","os":"Ubuntu 24.04","date":"2025-01-13","machine":"m6i.8xlarge, 10000gib gp3","cluster_size":1,"comment":"","retains_structure":"yes","tags":[],"dataset_size":100000000,"dataset_size_readable":"100m","num_loaded_documents":94408000,"data_compression":"snappy","total_size":25923018752,"total_size_readable":"25.92 GB","data_size":23520026624,"data_size_readable":"23.52 GB","index_size":2402992128,"index_size_readable":"2.40 GB","result":[[99.24,64.444,48.249],[4129.17,3504.34,2926.89],[188.384,164.718,154.082],[36.798,35.852,37.303],[36.978,38.413,41.326]],"result_readable":["1 min 39.24 sec, 1 min 4.44 sec, 48.25 sec","1 hr 8 min 49.17 sec, 58 min 24.34 sec, 48 min 46.89 sec","3 min 8.38 sec, 2 min 44.72 sec, 2 min 34.08 sec","36.80 sec, 35.85 sec, 37.30 sec","36.98 sec, 38.41 sec, 41.33 sec"],"source":"mongodb/results_without_covered_index_scans/m6i.8xlarge_bluesky_100m_snappy.json"}
,{"system":"MongoDB (zstd)","version":"8.0.3","os":"Ubuntu 24.04","date":"2025-01-13","machine":"m6i.8xlarge, 10000gib gp3","cluster_size":1,"comment":"","retains_structure":"yes","tags":[],"dataset_size":100000000,"dataset_size_readable":"100m","num_loaded_documents":94408000,"data_compression":"zstd","total_size":16198197248,"total_size_readable":"16.20 GB","data_size":13758480384,"data_size_readable":"13.76 GB","index_size":2439716864,"index_size_readable":"2.44 GB","result":[[171.13,56.34,50.349],[2673.28,2573.21,2576.39],[208.486,183.036,160.959],[45.227,41.365,43.751],[47.175,44.368,41.472]],"result_readable":["2 min 51.13 sec, 56.34 sec, 50.35 sec","44 min 33.28 sec, 42 min 53.21 sec, 42 min 56.39 sec","3 min 28.49 sec, 3 min 3.04 sec, 2 min 40.96 sec","45.23 sec, 41.37 sec, 43.75 sec","47.17 sec, 44.37 sec, 41.47 sec"],"source":"mongodb/results_without_covered_index_scans/m6i.8xlarge_bluesky_100m_zstd.json"}
,{"system":"MongoDB (snappy)","version":"8.0.3","os":"Ubuntu 24.04","date":"2025-01-13","machine":"m6i.8xlarge, 10000gib gp3","cluster_size":1,"comment":"","retains_structure":"yes","tags":[],"dataset_size":10000000,"dataset_size_readable":"10m","num_loaded_documents":7860000,"data_compression":"snappy","total_size":2145968128,"total_size_readable":"2.15 GB","data_size":1947783168,"data_size_readable":"1.95 GB","index_size":198184960,"index_size_readable":"198.18","result":[[16.363,2.861,2.807],[33.32,33.482,33.416],[11.605,11.562,11.561],[1.88,1.932,1.899],[2.029,2.025,2.028]],"result_readable":["16.36 sec, 2.86 sec, 2.81 sec","33.32 sec, 33.48 sec, 33.42 sec","11.61 sec, 11.56 sec, 11.56 sec","1.88 sec, 1.93 sec, 1.90 sec","2.03 sec, 2.02 sec, 2.03 sec"],"source":"mongodb/results_without_covered_index_scans/m6i.8xlarge_bluesky_10m_snappy.json"}
,{"system":"MongoDB (zstd)","version":"8.0.3","os":"Ubuntu 24.04","date":"2025-01-13","machine":"m6i.8xlarge, 10000gib gp3","cluster_size":1,"comment":"","retains_structure":"yes","tags":[],"dataset_size":10000000,"dataset_size_readable":"10m","num_loaded_documents":7860000,"data_compression":"zstd","total_size":1411428352,"total_size_readable":"1.41 GB","data_size":1212796928,"data_size_readable":"1.21 GB","index_size":198631424,"index_size_readable":"198.63 MB","result":[[15.462,3.001,2.833],[33.838,33.59,33.529],[11.42,11.431,11.508],[1.854,1.9,1.908],[2.043,2.013,2.014]],"result_readable":["15.46 sec, 3.00 sec, 2.83 sec","33.84 sec, 33.59 sec, 33.53 sec","11.42 sec, 11.43 sec, 11.51 sec","1.85 sec, 1.90 sec, 1.91 sec","2.04 sec, 2.01 sec, 2.01 sec"],"source":"mongodb/results_without_covered_index_scans/m6i.8xlarge_bluesky_10m_zstd.json"}
,{"system":"MongoDB (snappy)","version":"8.0.3","os":"Ubuntu 24.04","date":"2025-01-13","machine":"m6i.8xlarge, 10000gib gp3","cluster_size":1,"comment":"","retains_structure":"yes","tags":[],"dataset_size":1000000,"dataset_size_readable":"1m","num_loaded_documents":1000000,"data_compression":"snappy","total_size":279212032,"total_size_readable":"279.21 MB","data_size":253288448,"data_size_readable":"253.29 MB","index_size":25923584,"index_size_readable":"25.92 MB","result":[[0.375,0.365,0.368],[1.789,1.759,1.752],[1.431,1.421,1.436],[0.237,0.235,0.235],[0.257,0.255,0.263]],"result_readable":["375.00 msec, 365.00 msec, 368.00 msec","1.79 sec, 1.76 sec, 1.75 sec","1.43 sec, 1.42 sec, 1.44 sec","237.00 msec, 235.00 msec, 235.00 msec","257.00 msec, 255.00 msec, 263.00 msec"],"source":"mongodb/results_without_covered_index_scans/m6i.8xlarge_bluesky_1m_snappy.json"}
,{"system":"MongoDB (zstd)","version":"8.0.3","os":"Ubuntu 24.04","date":"2025-01-13","machine":"m6i.8xlarge, 10000gib gp3","cluster_size":1,"comment":"","retains_structure":"yes","tags":[],"dataset_size":1000000,"dataset_size_readable":"1m","num_loaded_documents":1000000,"data_compression":"zstd","total_size":179613696,"total_size_readable":"179.61 MB","data_size":155348992,"data_size_readable":"155.35 MB","index_size":24264704,"index_size_readable":"24.26 MB","result":[[1.017,0.377,0.365],[1.802,1.759,1.746],[1.419,1.411,1.439],[0.235,0.238,0.235],[0.254,0.266,0.257]],"result_readable":["1.02 sec, 377.00 msec, 365.00 msec","1.80 sec, 1.76 sec, 1.75 sec","1.42 sec, 1.41 sec, 1.44 sec","235.00 msec, 238.00 msec, 235.00 msec","254.00 msec, 266.00 msec, 257.00 msec"],"source":"mongodb/results_without_covered_index_scans/m6i.8xlarge_bluesky_1m_zstd.json"}
,{"system":"PostgreSQL (lz4)","version":"16.6","os":"Ubuntu 24.04","date":"2025-01-13","machine":"m6i.8xlarge, 10000gib gp3","cluster_size":1,"comment":"","retains_structure":"yes","tags":[],"dataset_size":1000000000,"dataset_size_readable":"1000m","num_loaded_documents":804000000,"data_compression":"lz4","total_size":654739636224,"total_size_readable":"654.74 GB","data_size":506726694912,"data_size_readable":"506.73 GB","index_size":147981623296,"index_size_readable":"147.98 GB","result":[[3863.35,3843.05,3843.04],[32553.3,32554.5,32553.9],[4222.61,4212.91,4208.16],[4890.82,4873.02,4871.11],[4900.32,4883.62,4873.68]],"result_readable":["1 hr 4 min 23.35 sec, 1 hr 4 min 3.05 sec, 1 hr 4 min 3.04 sec","9 hr 2 min 33.30 sec, 9 hr 2 min 34.50 sec, 9 hr 2 min 33.90 sec","1 hr 10 min 22.61 sec, 1 hr 10 min 12.91 sec, 1 hr 10 min 8.16 sec","1 hr 21 min 30.82 sec, 1 hr 21 min 13.02 sec, 1 hr 21 min 11.11 sec","1 hr 21 min 40.32 sec, 1 hr 21 min 23.62 sec, 1 hr 21 min 13.68 sec"],"source":"postgresql/results/m6i.8xlarge_bluesky_1000m_lz4.json"}
,{"system":"PostgreSQL (pglz)","version":"16.6","os":"Ubuntu 24.04","date":"2025-01-13","machine":"m6i.8xlarge, 10000gib gp3","cluster_size":1,"comment":"","retains_structure":"yes","tags":[],"dataset_size":1000000000,"dataset_size_readable":"1000m","num_loaded_documents":804000000,"data_compression":"pglz","total_size":660828643328,"total_size_readable":"660.83 GB","data_size":512573440000,"data_size_readable":"512.57 GB","index_size":148222607360,"index_size_readable":"148.22 GB","result":[[3907.81,3891.66,3887.55],[32598,32600.7,32598],[4267.02,4246.18,4248.89],[4902.93,4887.97,4870.85],[4919.4,4894.7,4914.49]],"result_readable":["1 hr 5 min 7.81 sec, 1 hr 4 min 51.66 sec, 1 hr 4 min 47.55 sec","9 hr 3 min 18.00 sec, 9 hr 3 min 20.70 sec, 9 hr 3 min 18.00 sec","1 hr 11 min 7.02 sec, 1 hr 10 min 46.18 sec, 1 hr 10 min 48.89 sec","1 hr 21 min 42.93 sec, 1 hr 21 min 27.97 sec, 1 hr 21 min 10.85 sec","1 hr 21 min 59.40 sec, 1 hr 21 min 34.70 sec, 1 hr 21 min 54.49 sec"],"source":"postgresql/results/m6i.8xlarge_bluesky_1000m_pglz.json"}
,{"system":"PostgreSQL (lz4)","version":"16.6","os":"Ubuntu 24.04","date":"2025-01-13","machine":"m6i.8xlarge, 10000gib gp3","cluster_size":1,"comment":"","retains_structure":"yes","tags":[],"dataset_size":100000000,"dataset_size_readable":"100m","num_loaded_documents":91000000,"data_compression":"lz4","total_size":69069152256,"total_size_readable":"69.07 GB","data_size":54598787072,"data_size_readable":"54.60 GB","index_size":14470062080,"index_size_readable":"14.47 GB","result":[[416.294,10.3327,10.3401],[1865.37,1454.93,1457.57],[439.522,31.3951,31.3661],[477.483,17.4918,17.2812],[478.399,19.4407,18.4989]],"result_readable":["6 min 56.29 sec, 10.33 sec, 10.34 sec","31 min 5.37 sec, 24 min 14.93 sec, 24 min 17.57 sec","7 min 19.52 sec, 31.40 sec, 31.37 sec","7 min 57.48 sec, 17.49 sec, 17.28 sec","7 min 58.40 sec, 19.44 sec, 18.50 sec"],"source":"postgresql/results/m6i.8xlarge_bluesky_100m_lz4.json"}
,{"system":"PostgreSQL (pglz)","version":"16.6","os":"Ubuntu 24.04","date":"2025-01-13","machine":"m6i.8xlarge, 10000gib gp3","cluster_size":1,"comment":"","retains_structure":"yes","tags":[],"dataset_size":100000000,"dataset_size_readable":"100m","num_loaded_documents":91000000,"data_compression":"pglz","total_size":69085896704,"total_size_readable":"69.09 GB","data_size":54617038848,"data_size_readable":"54.62 GB","index_size":14468587520,"index_size_readable":"14.47 GB","result":[[416.449,10.4025,10.3982],[1865.43,1457.18,1455.51],[439.424,31.7577,31.7307],[477.52,17.5615,17.6512],[479.118,18.9199,19.5657]],"result_readable":["6 min 56.45 sec, 10.40 sec, 10.40 sec","31 min 5.43 sec, 24 min 17.18 sec, 24 min 15.51 sec","7 min 19.42 sec, 31.76 sec, 31.73 sec","7 min 57.52 sec, 17.56 sec, 17.65 sec","7 min 59.12 sec, 18.92 sec, 19.57 sec"],"source":"postgresql/results/m6i.8xlarge_bluesky_100m_pglz.json"}
,{"system":"PostgreSQL (lz4)","version":"16.6","os":"Ubuntu 24.04","date":"2025-01-13","machine":"m6i.8xlarge, 10000gib gp3","cluster_size":1,"comment":"","retains_structure":"yes","tags":[],"dataset_size":10000000,"dataset_size_readable":"10m","num_loaded_documents":7000000,"data_compression":"lz4","total_size":5759737856,"total_size_readable":"5.76 GB","data_size":4653178880,"data_size_readable":"4.65 GB","index_size":1106558976,"index_size_readable":"1.11 GB","result":[[35.3379,0.945249,0.938868],[41.45,9.23267,9.23034],[36.1707,2.49331,2.4911],[174.534,1.97768,1.90803],[175.691,2.11244,2.10785]],"result_readable":["35.34 sec, 945.25 msec, 938.87 msec","41.45 sec, 9.23 sec, 9.23 sec","36.17 sec, 2.49 sec, 2.49 sec","2 min 54.53 sec, 1.98 sec, 1.91 sec","2 min 55.69 sec, 2.11 sec, 2.11 sec"],"source":"postgresql/results/m6i.8xlarge_bluesky_10m_lz4.json"}
,{"system":"PostgreSQL (pglz)","version":"16.6","os":"Ubuntu 24.04","date":"2025-01-13","machine":"m6i.8xlarge, 10000gib gp3","cluster_size":1,"comment":"","retains_structure":"yes","tags":[],"dataset_size":10000000,"dataset_size_readable":"10m","num_loaded_documents":7000000,"data_compression":"pglz","total_size":5778792448,"total_size_readable":"5.78 GB","data_size":4652179456,"data_size_readable":"4.65 GB","index_size":1126612992,"index_size_readable":"1.13 GB","result":[[35.1722,0.948157,0.947581],[48.0881,9.34658,9.3514],[35.668,2.53469,2.53258],[174.552,2.07684,1.95298],[175.98,2.18434,2.21651]],"result_readable":["35.17 sec, 948.16 msec, 947.58 msec","48.09 sec, 9.35 sec, 9.35 sec","35.67 sec, 2.53 sec, 2.53 sec","2 min 54.55 sec, 2.08 sec, 1.95 sec","2 min 55.98 sec, 2.18 sec, 2.22 sec"],"source":"postgresql/results/m6i.8xlarge_bluesky_10m_pglz.json"}
,{"system":"PostgreSQL (lz4)","version":"16.6","os":"Ubuntu 24.04","date":"2025-01-13","machine":"m6i.8xlarge, 10000gib gp3","cluster_size":1,"comment":"","retains_structure":"yes","tags":[],"dataset_size":1000000,"dataset_size_readable":"1m","num_loaded_documents":1000000,"data_compression":"lz4","total_size":731111424,"total_size_readable":"731.11 MB","data_size":586768384,"data_size_readable":"586.77 MB","index_size":144343040,"index_size_readable":"144.34 MB","result":[[3.63966,0.135007,0.136015],[36.808,2.1238,2.13312],[4.05291,0.344643,0.344627],[15.3146,0.504157,0.224458],[15.7782,0.238114,0.247374]],"result_readable":["3.64 sec, 135.01 msec, 136.01 msec","36.81 sec, 2.12 sec, 2.13 sec","4.05 sec, 344.64 msec, 344.63 msec","15.31 sec, 504.16 msec, 224.46 msec","15.78 sec, 238.11 msec, 247.37 msec"],"source":"postgresql/results/m6i.8xlarge_bluesky_1m_lz4.json"}
,{"system":"PostgreSQL (pglz)","version":"16.6","os":"Ubuntu 24.04","date":"2025-01-13","machine":"m6i.8xlarge, 10000gib gp3","cluster_size":1,"comment":"","retains_structure":"yes","tags":[],"dataset_size":1000000,"dataset_size_readable":"1m","num_loaded_documents":1000000,"data_compression":"pglz","total_size":731168768,"total_size_readable":"731.17 MB","data_size":586825728,"data_size_readable":"586.83 MB","index_size":144343040,"index_size_readable":"144.34 MB","result":[[4.05346,0.135037,0.13426],[30.2945,2.1009,2.07414],[4.05195,0.348947,0.347623],[15.7542,0.50897,0.224949],[16.1238,0.251958,0.251934]],"result_readable":["4.05 sec, 135.04 msec, 134.26 msec","30.29 sec, 2.10 sec, 2.07 sec","4.05 sec, 348.95 msec, 347.62 msec","15.75 sec, 508.97 msec, 224.95 msec","16.12 sec, 251.96 msec, 251.93 msec"],"source":"postgresql/results/m6i.8xlarge_bluesky_1m_pglz.json"}
,{"system":"SingleStore","version":"5.7.32","os":"Ubuntu 24.04","date":"2025-03-14","machine":"m6i.8xlarge, 10000gib gp3","cluster_size":1,"comment":"","retains_structure":"yes","tags":[],"dataset_size":1000000000,"dataset_size_readable":"1000m","num_loaded_documents":811999990,"data_compression":"auto","total_size":234878938296,"total_size_readable":"234.87 GB","data_size":234878938296,"data_size_readable":"234.87 GB","index_size":0,"index_size_readable":"0 MB","result":[[51.599,43.98,51.557],[321.517,207.62,196.39],[125.113,113.956,111.105],[322.197,32.433,32.407],[326.151,40.692,40.644]],"result_readable":["51.5 sec, 43.9 sec, 51.557 sec","321.5 sec, 207.6 sec, 196.3 sec","125.1 sec, 113.9 sec, 111.1 sec","322.1 sec, 32.4 sec, 32.4 sec","326.1 sec, 40.6 sec, 40.6 sec"],"memory_usage":[[null,null,null],[null,null,null],[null,null,null],[null,null,null],[null,null,null]],"memory_usage_readable":["null, null, null","null, null, null","null, null, null","null, null, null","null, null, null"],"source":"singlestore/results/m6i.8xlarge_bluesky_1000m.json"}
,{"system":"SingleStore","version":"5.7.32","os":"Ubuntu 24.04","date":"2025-03-14","machine":"m6i.8xlarge, 10000gib gp3","cluster_size":1,"comment":"","retains_structure":"yes","tags":[],"dataset_size":100000000,"dataset_size_readable":"100m","num_loaded_documents":91000000,"data_compression":"auto","total_size":25757172429,"total_size_readable":"25.75 GB","data_size":25757172429,"data_size_readable":"25.75 GB","index_size":0,"index_size_readable":"0 MB","result":[[6.471,5.066,5.606],[37.551,25.246,25.060],[14.634,12.810,12.786],[34.688,3.691,3.702],[34.735,4.934,4.713]],"result_readable":["6.4 sec, 5.0 sec, 5.6 sec","37.5 sec, 25.2 sec, 25.0 sec","14.6 sec, 12.8 sec, 12.7 sec","34.6 sec, 3.6 sec, 3.7 sec","34.7 sec, 4.9 sec, 4.7 sec"],"memory_usage":[[null,null,null],[null,null,null],[null,null,null],[null,null,null],[null,null,null]],"memory_usage_readable":["null, null, null","null, null, null","null, null, null","null, null, null","null, null, null"],"source":"singlestore/results/m6i.8xlarge_bluesky_100m.json"}
,{"system":"SingleStore","version":"5.7.32","os":"Ubuntu 24.04","date":"2025-03-14","machine":"m6i.8xlarge, 10000gib gp3","cluster_size":1,"comment":"","retains_structure":"yes","tags":[],"dataset_size":10000000,"dataset_size_readable":"10m","num_loaded_documents":7000000,"data_compression":"auto","total_size":1943790266,"total_size_readable":"1.94 GB","data_size":1943790266,"data_size_readable":"1.94 GB","index_size":0,"index_size_readable":"0 MB","result":[[0.658,0.444,0.494],[2.831,2.647,2.836],[1.437,1.456,1.124],[1.253,0.412,0.434],[1.347,0.553,0.587]],"result_readable":["0.6 sec, 0.4 sec, 0.4 sec","2.8 sec, 2.6 sec, 2.8 sec","1.4 sec, 1.4 sec, 1.1 sec","1.2 sec, 0.4 sec, 0.4 sec","1.3 sec, 0.5 sec, 0. sec5"],"memory_usage":[[null,null,null],[null,null,null],[null,null,null],[null,null,null],[null,null,null]],"memory_usage_readable":["null, null, null","null, null, null","null, null, null","null, null, null","null, null, null"],"source":"singlestore/results/m6i.8xlarge_bluesky_10m.json"}
,{"system":"SingleStore","version":"5.7.32","os":"Ubuntu 24.04","date":"2025-03-14","machine":"m6i.8xlarge, 10000gib gp3","cluster_size":1,"comment":"","retains_structure":"yes","tags":[],"dataset_size":1000000,"dataset_size_readable":"1m","num_loaded_documents":1000000,"data_compression":"auto","total_size":275466582,"total_size_readable":"275.35 MB","data_size":275466582,"data_size_readable":"275.35 MB","index_size":0,"index_size_readable":"0 MB","result":[[0.206,0.083,0.098],[0.615,0.544,0.452],[0.366,0.268,0.149],[0.259,0.111,0.106],[0.324,0.167,0.171]],"result_readable":["0.2 sec, 0.0 sec, 0.0 sec","0.6 sec, 0.5 sec, 0.4 sec","0.3 sec, 0.2 sec, 0.1 sec","0.2 sec, 0.1 sec, 0.1 sec","0.3 sec, 0.1 sec, 0.1 sec"],"memory_usage":[[null,null,null],[null,null,null],[null,null,null],[null,null,null],[null,null,null]],"memory_usage_readable":["null, null, null","null, null, null","null, null, null","null, null, null","null, null, null"],"source":"singlestore/results/m6i.8xlarge_bluesky_1m.json"}
,{"system":"Starrocks (lz4)","version":"3.4.0-e94580b","os":"Ubuntu 24.04","date":"2025-01-13","machine":"m6i.8xlarge, 10000gib gp3","cluster_size":1,"comment":"","retains_structure":"yes","tags":[],"dataset_size":1000000000,"dataset_size_readable":"1000m","num_loaded_documents":1000000000,"data_compression":"lz4","total_size":19182000000,"total_size_readable":"19.182 GB","result":[[null,null,null],[null,null,null],[null,null,null],[null,null,null],[null,null,null]],"source":"starrocks/results/m6i.8xlarge_bluesky_1000m_lz4.json"}
,{"system":"Starrocks (zstd)","version":"3.4.0-e94580b","os":"Ubuntu 24.04","date":"2025-01-13","machine":"m6i.8xlarge, 10000gib gp3","cluster_size":1,"comment":"","retains_structure":"yes","tags":[],"dataset_size":1000000000,"dataset_size_readable":"1000m","num_loaded_documents":1000000000,"data_compression":"zstd","total_size":31200000000,"total_size_readable":"31.200 GB","result":[[null,null,null],[null,null,null],[null,null,null],[null,null,null],[null,null,null]],"source":"starrocks/results/m6i.8xlarge_bluesky_1000m_zstd.json"}
,{"system":"Starrocks (lz4)","version":"3.4.0-e94580b","os":"Ubuntu 24.04","date":"2025-01-13","machine":"m6i.8xlarge, 10000gib gp3","cluster_size":1,"comment":"","retains_structure":"yes","tags":[],"dataset_size":100000000,"dataset_size_readable":"100m","num_loaded_documents":100000000,"data_compression":"lz4","total_size":19182000000,"total_size_readable":"19.182 GB","result":[[0.25,0.17,0.17],[8.13,4.33,3.82],[3.18,3.08,3.05],[4.06,4.07,4.12],[4.04,4.20,3.97]],"source":"starrocks/results/m6i.8xlarge_bluesky_100m_lz4.json"}
,{"system":"Starrocks (zstd)","version":"3.4.0-e94580b","os":"Ubuntu 24.04","date":"2025-01-13","machine":"m6i.8xlarge, 10000gib gp3","cluster_size":1,"comment":"","retains_structure":"yes","tags":[],"dataset_size":100000000,"dataset_size_readable":"100m","num_loaded_documents":100000000,"data_compression":"zstd","total_size":31200000000,"total_size_readable":"31.200 GB","result":[[0.22,0.17,0.18],[28.09,3.94,3.89],[3.04,3.05,3.11],[3.99,4.04,3.94],[4.13,4.12,4.11]],"source":"starrocks/results/m6i.8xlarge_bluesky_100m_zstd.json"}
,{"system":"Starrocks (lz4)","version":"3.4.0-e94580b","os":"Ubuntu 24.04","date":"2025-01-13","machine":"m6i.8xlarge, 10000gib gp3","cluster_size":1,"comment":"","retains_structure":"yes","tags":[],"dataset_size":10000000,"dataset_size_readable":"10m","num_loaded_documents":9999994,"data_compression":"lz4","total_size":1967000000,"total_size_readable":"1.967 GB","result":[[0.11,0.10,0.10],[0.45,0.40,0.42],[0.58,0.45,0.50],[0.57,0.62,0.61],[0.69,0.60,0.55]],"source":"starrocks/results/m6i.8xlarge_bluesky_10m_lz4.json"}
,{"system":"Starrocks (zstd)","version":"3.4.0-e94580b","os":"Ubuntu 24.04","date":"2025-01-13","machine":"m6i.8xlarge, 10000gib gp3","cluster_size":1,"comment":"","retains_structure":"yes","tags":[],"dataset_size":10000000,"dataset_size_readable":"10m","num_loaded_documents":10000000,"data_compression":"zstd","total_size":3193000000,"total_size_readable":"3.193 GB","result":[[0.10,0.12,0.09],[1.79,0.43,0.37],[0.48,0.45,0.47],[0.57,0.70,0.62],[0.59,0.72,0.73]],"source":"starrocks/results/m6i.8xlarge_bluesky_10m_zstd.json"}
,{"system":"Starrocks (lz4)","version":"3.4.0-e94580b","os":"Ubuntu 24.04","date":"2025-01-13","machine":"m6i.8xlarge, 10000gib gp3","cluster_size":1,"comment":"","retains_structure":"yes","tags":[],"dataset_size":1000000,"dataset_size_readable":"1m","num_loaded_documents":1000000,"data_compression":"lz4","total_size":201845000,"total_size_readable":"201.845 MB","result":[[0.65,0.05,0.05],[0.36,0.28,0.29],[0.31,0.28,0.28],[0.52,0.52,0.51],[0.51,0.51,0.52]],"source":"starrocks/results/m6i.8xlarge_bluesky_1m_lz4.json"}
,{"system":"Starrocks (zstd)","version":"3.4.0-e94580b","os":"Ubuntu 24.04","date":"2025-01-13","machine":"m6i.8xlarge, 10000gib gp3","cluster_size":1,"comment":"","retains_structure":"yes","tags":[],"dataset_size":1000000,"dataset_size_readable":"1m","num_loaded_documents":1000000,"data_compression":"zstd","total_size":322945000,"total_size_readable":"322.945 MB","result":[[0.05,0.05,0.04],[0.37,0.28,0.29],[0.28,0.27,0.27],[0.51,0.51,0.51],[0.50,0.50,0.51]],"source":"starrocks/results/m6i.8xlarge_bluesky_1m_zstd.json"}
,{"system":"VictoriaLogs","version":"v1.10.0-victorialogs","os":"Ubuntu 24.04","date":"2025-02-13","machine":"m6i.8xlarge, 10000gib gp3","cluster_size":1,"comment":"","retains_structure":"no","tags":[],"dataset_size":1000000000,"dataset_size_readable":"1000m","num_loaded_documents":999999144,"data_compression":"auto","total_size":121493160562,"total_size_readable":"121 GB","data_size":108149919763,"data_size_readable":"108 GB","index_size":13341906968,"index_size_readable":"13 GB","result":[[1.239,0.029,0.027],[115.326,14.574,14.642],[18.046,1.658,1.662],[5.769,5.76,5.453],[8.44,7.885,8.232]],"result_readable":["1239 msec, 29 msec, 27 msec","115.33 sec, 14.57 sec, 14.64 sec","18.05 sec, 1.66 sec, 1.66 sec","5.77 sec, 5.76 sec, 5.45 sec","8.44 sec, 7.89 sec, 8.23 sec"],"source":"victorialogs/results/m6i.8xlarge_bluesky_1000m.json"}
,{"system":"VictoriaLogs","version":"v1.10.0-victorialogs","os":"Ubuntu 24.04","date":"2025-02-13","machine":"m6i.8xlarge, 10000gib gp3","cluster_size":1,"comment":"","retains_structure":"no","tags":[],"dataset_size":100000000,"dataset_size_readable":"100m","num_loaded_documents":99999968,"data_compression":"auto","total_size":11997996915,"total_size_readable":"12.0 GB","data_size":10708965860,"data_size_readable":"10.7 GB","index_size":1288848048,"index_size_readable":"1.3 GB","result":[[0.094,0.009,0.009],[10.019,1.507,2.024],[0.658,0.157,0.156],[1.018,0.99,0.975],[1.328,0.785,0.815]],"result_readable":["94.00 msec, 9.00 msec, 9.00 msec","10.02 sec, 1.51 sec, 2.02 sec","0.66 sec, 0.16 sec, 0.16 sec","1.02 sec, 0.99 sec, 0.98 sec","1.33 sec, 0.79 sec, 0.82 sec"],"source":"victorialogs/results/m6i.8xlarge_bluesky_100m.json"}
,{"system":"VictoriaLogs","version":"v1.10.0-victorialogs","os":"Ubuntu 24.04","date":"2025-02-13","machine":"m6i.8xlarge, 10000gib gp3","cluster_size":1,"comment":"","retains_structure":"no","tags":[],"dataset_size":10000000,"dataset_size_readable":"10m","num_loaded_documents":9999994,"data_compression":"auto","total_size":1237318452,"total_size_readable":"1.24 GB","data_size":1105087164,"data_size_readable":"1.11 GB","index_size":132046480,"index_size_readable":"132 MB","result":[[0.57,0.006,0.006],[1.27,0.637,0.164],[0.351,0.028,0.031],[0.197,0.156,0.157],[0.256,0.194,0.193]],"result_readable":["57.00 msec, 6.00 msec, 6.00 msec","1270.00 msec, 637.00 msec, 164.00 msec","351.00 msec, 28.00 msec, 31.00 msec","197.00 msec, 156.00 msec, 157.00 msec","256.00 msec, 194.00 msec, 193.00 msec"],"source":"victorialogs/results/m6i.8xlarge_bluesky_10m.json"}
,{"system":"VictoriaLogs","version":"v1.10.0-victorialogs","os":"Ubuntu 24.04","date":"2025-02-13","machine":"m6i.8xlarge, 10000gib gp3","cluster_size":1,"comment":"","retains_structure":"no","tags":[],"dataset_size":1000000,"dataset_size_readable":"1m","num_loaded_documents":1000000,"data_compression":"auto","total_size":122000607,"total_size_readable":"122 MB","data_size":108792847,"data_size_readable":"109 MB","index_size":13207760,"index_size_readable":"13 MB","result":[[0.086,0.006,0.006],[0.129,0.054,0.039],[0.091,0.01,0.01],[0.114,0.018,0.022],[0.102,0.026,0.02]],"result_readable":["86.00 msec, 6.00 msec, 6.00 msec","129.00 msec, 54.00 msec, 39.00 msec","91.00 msec, 10.00 msec, 10.00 msec","114.00 msec, 18.00 msec, 22.00 msec","102.00 msec, 26.00 msec, 20.00 msec"],"source":"victorialogs/results/m6i.8xlarge_bluesky_1m.json"}
]; // end of data

    </script>
</head>
<body>

<div class="header stick-left">
    <span class="nowrap themes"><span id="toggle-dark">ðŸŒš</span><span id="toggle-light">ðŸŒž</span></span>
    <h1>JSONBench â€” a Benchmark For Data Analytics On JSON</h1>
    <a href="https://github.com/ClickHouse/JSONBench/">Methodology</a> | <a href="https://github.com/ClickHouse/JSONBench/">Reproduce and Validate the Results</a> | <a href="https://github.com/ClickHouse/JSONBench/">Add a System</a> | <a href="https://github.com/ClickHouse/JSONBench/">Report Mistake</a> | See also: <a href="https://benchmark.clickhouse.com/">ClickBench</a>
</div>

<table class="selectors-container stick-left">
    <tr>
        <th>System: </th>
        <td id="selectors_system">
            <a id="select-all-systems" class="selector selector-active">All</a>
        </td>
    </tr>
    <tr>
        <th>Scale: </th>
        <td id="selectors_scale">
        </td>
    </tr>
    <tr>
        <th>Metric: </th>
        <td id="selectors_run">
            <a class="selector" id="selector-metric-cold">Cold Run</a>
            <a class="selector" id="selector-metric-hot">Hot Run</a>
            <a class="selector" id="selector-metric-size">Storage Size</a>
            <a class="selector" id="selector-metric-quality">Data Quality</a>
        </td>
    </tr>
</table>

<table class="stick-left comparison">
    <thead>
        <tr>
            <th class="summary-name">
                System
            </th>
            <th colspan="2">
                <span id="metric-title">Relative time (lower is better)</span>
            </th>
        </tr>
    </thead>
    <tbody id="summary">
    </tbody>
</table>

<div id="nothing-selected" class="stick-left">Nothing selected</div>

<div class="stick-left comparison">
    <h2>Detailed Comparison</h2>
</div>

<table id="details">
    <thead>
        <tr id="details_head">
        </tr>
    </thead>
    <tbody id="details_body">
    </tbody>
</table>

<script type="text/javascript">

const constant_time_add = 0.01;
const missing_result_penalty = 2;
const missing_result_time = 3600;

let selectors = {
    "system": {},
    "scale": 1000_000_000,
    "metric": "hot",
    "queries": [],
};

let theme = 'light';

function setTheme(new_theme) {
    theme = new_theme;
    document.documentElement.setAttribute('data-theme', theme);
    window.localStorage.setItem('theme', theme);
    render();
}

document.getElementById('toggle-light').addEventListener('click', e => setTheme('light'));
document.getElementById('toggle-dark').addEventListener('click', e => setTheme('dark'));

let new_theme = window.localStorage.getItem('theme');
if (new_theme && new_theme != theme) {
    setTheme(new_theme);
}

/// Generate selectors

let systems = document.getElementById('selectors_system');
let scales = document.getElementById('selectors_scale');

let unique_systems = [... new Set(data.filter(elem => !elem.fake).map(elem => elem.system))];

function toggle(e, elem, selectors_map) {
    selectors_map[elem] = !selectors_map[elem];
    if (selectors_map[elem]) {
        e.target.classList.add('selector-active');
    } else {
        e.target.classList.remove('selector-active');
    }
    render();
    updateHistory();
}

function switchTo(e, selector) {
    [...e.target.parentElement.querySelectorAll('a')].map(elem => {
        elem.className = elem == e.target ? 'selector selector-active' : 'selector'
    });
    if (selector) selectors[selector] = e.target.dataset.value;
    render();
    updateHistory();
}

function toggleAll(e, selectors_map) {
    const new_value = Object.keys(selectors_map).filter(k => selectors_map[k]).length * 2 < Object.keys(selectors_map).length;
    [...e.target.parentElement.querySelectorAll('a')].map(
        elem => { elem.className = new_value ? 'selector selector-active' : 'selector' });

    Object.keys(selectors_map).map(k => { selectors_map[k] = new_value });
    render();
    updateHistory();
}

unique_systems.map(elem => {
    let selector = document.createElement('a');
    selector.classList.add('selector-active');
    selector.appendChild(document.createTextNode(elem));
    selector.dataset.name = elem;

    if (!elem.startsWith('_')) {
        systems.appendChild(selector);

        if (!(elem in selectors.system)) {
            selectors.system[elem] = data.some(entry => entry.system == elem && !entry.hide);
        }
        selector.addEventListener('click', e => toggle(e, elem, selectors.system));

        /// Highlighting summary rows and table columns on hovering over the system selector.
        selector.addEventListener('mouseover', e => {
            [...document.querySelectorAll('.summary-row')].map(row => {
                row.className = row.dataset.system == elem ? 'summary-row summary-row-hilite' : 'summary-row' });
            [...document.querySelectorAll('.th-entry')].map(th => {
                th.className = th.dataset.system == elem ? 'th-entry th-entry-hilite' : 'th-entry' });
        });
        selector.addEventListener('mouseout', e => {
            [...document.querySelectorAll('.summary-row')].map(row => { row.className = 'summary-row' });
            [...document.querySelectorAll('.th-entry')].map(row => { row.className = 'th-entry' });
        });
    }
});

[... new Set(data.map(elem => elem.dataset_size))].sort().map(elem => {
    let selector = document.createElement('a');
    selector.dataset.value = elem;
    const active = elem == (selectors.scale ?? 1_000_000_000);
    selector.classList.add('selector');
    if (active) {
        selectors.scale = elem;
        selector.classList.add('selector-active');
    }
    selector.appendChild(document.createTextNode((elem / 1_000_000) + " million"));
    scales.appendChild(selector);
    selector.addEventListener('click', e => { selectors.scale = elem; switchTo(e, 'scale') });
});

document.getElementById('select-all-systems').addEventListener('click', e => toggleAll(e, selectors.system));

[...document.getElementById('selectors_run').querySelectorAll('a')].map(elem => elem.addEventListener('click', e => switchTo(e)));

document.getElementById('selector-metric-cold').addEventListener('click', e => { selectors.metric = 'cold'; render(); updateHistory(); });
document.getElementById('selector-metric-hot').addEventListener('click', e => { selectors.metric = 'hot'; render(); updateHistory(); });
document.getElementById('selector-metric-size').addEventListener('click', e => { selectors.metric = 'size'; render(); updateHistory(); });
document.getElementById('selector-metric-quality').addEventListener('click', e => { selectors.metric = 'quality'; render(); updateHistory(); });

selectors.queries = queries.map(() => true);

function updateSelectors() {
    [...systems.childNodes].filter(elem => elem.tagName == 'A').map(elem => {
        elem.className = selectors.system[elem.dataset.name] ? 'selector selector-active' : 'selector' });
    [...scales.childNodes].filter(elem => elem.tagName == 'A').map(elem => { elem.className = (selectors.scale == elem.dataset.value) ? 'selector selector-active' : 'selector' });

    [...document.getElementById('selectors_run').querySelectorAll('a')].map(elem => {
        elem.className = elem.id == 'selector-metric-' + selectors.metric ? 'selector selector-active' : 'selector' });

    [...document.querySelectorAll('.query-checkbox')].map((elem, i) => { elem.checked = selectors.queries[i] });
}

function clearElement(elem)
{
    while (elem.firstChild) {
        elem.removeChild(elem.lastChild);
    }
}

function selectRun(timings) {
    return selectors.metric == 'cold' ? timings[0] : (timings[1] !== null && timings[2] !== null ? Math.min(timings[1], timings[2]) : null)
}

function addNote(text) {
    let note = document.createElement('sup');
    note.className = 'note';
    note.appendChild(document.createTextNode('â€ '));

    let tooltip = document.createElement('span');
    tooltip.className = 'tooltip tooltip-result';
    tooltip.appendChild(document.createTextNode(text));

    note.appendChild(tooltip);
    return note;
}

function renderSummary(filtered_data) {
    let table = document.getElementById('summary');
    clearElement(table);

    /// Generate summary

    /// The algorithm: for each of the queries,
    /// - if there is a result - take query duration, add 10 ms, and divide it to the corresponding value from the baseline,
    /// - if there is no result - take the worse query duration across all query runs for this system and multiply by 2.
    /// Take geometric mean across the queries.

    let summary = {};

    const num_queries = queries.length;

    const baseline_data = [...queries.keys()].map(query_num =>
        [...Array(3).keys()].map(run_num =>
            Math.min(...filtered_data.filter(elem => !elem.fake && elem.result.length > 0).map(elem => elem.result[query_num][run_num]).filter(x => x))));

    const min_load_time = Math.min(...filtered_data.map(elem => elem.load_time).filter(x => x));
    const min_data_size = Math.min(...filtered_data.map(elem => elem.total_size).filter(x => x));

    let summaries;
    if (selectors.metric == 'quality') {
        summaries = filtered_data.map(elem => 1 - elem.num_loaded_documents / selectors.scale);
        document.getElementById('metric-title').innerText = 'Data quality (higher is better)';
    } else if (selectors.metric == 'size') {
        summaries = filtered_data.map(elem => elem.total_size / min_data_size);
        document.getElementById('metric-title').innerText = 'Storage size (lower is better)';
    } else {
        summaries = filtered_data.map(elem => {
            let accumulator = 0;
            let used_queries = 0;

            const no_queries_selected = selectors.queries.filter(x => x).length == 0;

            for (let i = 0; i < num_queries; ++i) {
                if (no_queries_selected || selectors.queries[i]) {
                    const fallback_timing = missing_result_penalty * Math.max(missing_result_time, ...filtered_data.filter(other => other.result.length > i).map(other => selectRun(other.result[i])));

                    const curr_timing = elem.fake || elem.result.length <= i ? fallback_timing : selectRun(elem.result[i]) ?? fallback_timing;
                    const baseline_timing = selectRun(baseline_data[i]);
                    const ratio = (constant_time_add + curr_timing) / (constant_time_add + baseline_timing);
                    accumulator += Math.log(ratio);
                    ++used_queries;
                }
            }

            return Math.exp(accumulator / used_queries);
        });
        document.getElementById('metric-title').innerText = 'Relative time (lower is better)';
    }

    const sorted_indices = [...summaries.keys()].sort((a, b) => {
        const valA = summaries[a];
        const valB = summaries[b];
        // Handle NaN values: consider NaN greater than any number (place them at the end)
        if (isNaN(valA) && isNaN(valB)) return 0;
        if (isNaN(valA)) return 1;
        if (isNaN(valB)) return -1;
        // Normal numeric comparison
        return valA - valB;
    });
    const max_ratio = summaries[sorted_indices.filter(idx => !isNaN(summaries[idx])).pop()];

    sorted_indices.map(idx => {
        const elem = filtered_data[idx];

        if (selectors.metric == 'size' && elem.total_size === null) { return; }
        if (selectors.metric != 'size' && elem.fake) { return; }

        let tr = document.createElement('tr');
        tr.className = 'summary-row';

        tr.dataset.system = elem.system;

        let td_name = document.createElement('td');
        td_name.className = 'summary-name';

        let link = document.createElement('a');
        link.appendChild(document.createTextNode(`${elem.system}`));
        link.href = "https://github.com/ClickHouse/JSONBench/blob/main/" + elem.source;
        td_name.appendChild(link);

        if (elem.comment) { td_name.appendChild(addNote(elem.comment)); }
        td_name.appendChild(document.createTextNode(': '));

        const ratio = summaries[idx];
        const percentage = (selectors.metric == 'quality' ? 1 - summaries[idx] : summaries[idx] / max_ratio) * 100;

        let td_number = document.createElement('td');
        td_number.className = 'summary-number';

        let text;
        if (selectors.metric == 'load') {
            text = (elem.load_time ? `${Math.round(elem.load_time)}s (Ã—${ratio.toFixed(2)})` : 'stateless');
        } else if (selectors.metric == 'size') {
            text = `${(elem.total_size / 1024 / 1024 / 1024).toFixed(2)} GiB (Ã—${ratio.toFixed(2)})`;
        } else if (selectors.metric == 'quality') {
            text = `${Number(100 * elem.num_loaded_documents / selectors.scale).toFixed(2)}%`
        } else {
            text = `Ã—${ratio.toFixed(2)}`;
        }

        td_number.appendChild(document.createTextNode(text));

        let td_bar = document.createElement('td');
        td_bar.className = 'summary-bar-cell';

        let bar = document.createElement('div');

        bar.className = elem.fake ? `summary-bar-fake` : `summary-bar`;
        bar.style.width = `${percentage}%`;

        td_bar.appendChild(bar);

        tr.appendChild(td_name);
        tr.appendChild(td_bar);
        tr.appendChild(td_number);
        table.appendChild(tr);
    });

    return [sorted_indices, baseline_data];
}

function colorize(elem, ratio) {
    let [r, g, b] = [0, 0, 0];

    /// ratio less than 1 - green
    /// ratio from 1 to 2 - green to yellow
    /// ratio from 2 to 10 - yellow to red
    /// ratio from 10 to 1000 to infinity - red to brown to black

    /// Note: we are using RGB space without proper gamma correction. Read more: https://www.handprint.com/HP/WCL/color1.html

    if (ratio !== null) {
        if (ratio < 1) {
            r = 232;
            g = 255;
            b = 232;
        } else if (ratio <= 1) {
            g = 255;
        } else if (ratio <= 2) {
            g = 255;
            r = (ratio - 1) * 255;
        } else if (ratio <= 10) {
            g = (10 - ratio) / 8 * 255;
            r = 255;
        } else {
            r = (1 - ((ratio - 10) / ((ratio - 10) + 1000))) * 255;
        }
    }

    if (document.documentElement.getAttribute('data-theme') == 'dark') {
        r /= 1.5;
        g /= 1.5;
        b /= 1.5;
    }

    elem.style.backgroundColor = `rgb(${r}, ${g}, ${b})`;
    if (ratio === null || ratio > 10) {
        /// This will look better on dark backgrounds
        elem.style.color = 'white';
    } else {
        elem.style.color = 'black';
    }

    /// The best result is highlighted
    if (ratio == 1) {
        elem.style.fontWeight = 'bold';
    }
}

function render() {
    let details_head = document.getElementById('details_head');
    let details_body = document.getElementById('details_body');

    clearElement(details_head);
    clearElement(details_body);

    let filtered_data = data.filter(elem =>
        (selectors.system[elem.system] || (selectors.metric == 'size' && elem.fake)) &&
        selectors.scale == elem.dataset_size);

    let nothing_selected_elem = document.getElementById('nothing-selected');
    if (filtered_data.length == 0) {
        nothing_selected_elem.style.display = 'block';
        [...document.querySelectorAll('.comparison')].map(e => e.style.display = 'none');
        return;
    }
    nothing_selected_elem.style.display = 'none';
    [...document.querySelectorAll('.comparison')].map(e => e.style.display = 'block');

    let [sorted_indices, baseline_data] = renderSummary(filtered_data);
    sorted_indices = sorted_indices.filter(idx => !filtered_data[idx].fake);

    /// Generate details

    /// Global checkbox
    {
        let th_checkbox = document.createElement('th');
        let checkbox = document.createElement('input');
        checkbox.type = 'checkbox';
        checkbox.checked = true;
        checkbox.addEventListener('change', e => {
            [...document.querySelectorAll('.query-checkbox')].map(elem => { elem.checked = e.target.checked });
            selectors.queries.map((_, i) => { selectors.queries[i] = e.target.checked });
            renderSummary(filtered_data);
            updateHistory();
        });
        th_checkbox.appendChild(checkbox);
        details_head.appendChild(th_checkbox);
        details_head.appendChild(document.createElement('th'));
    }

    /// Table header
    sorted_indices.map(idx => {
        const elem = filtered_data[idx];
        let th = document.createElement('th');
        th.appendChild(document.createTextNode(`${elem.system}`));
        th.className = 'th-entry';
        th.dataset.system = elem.system;
        details_head.appendChild(th);
    });

    /// Data sizes
    {
        let tr = document.createElement('tr');
        tr.className = 'shadow';

        let td_title = document.createElement('td');
        td_title.colSpan = 2;
        td_title.appendChild(document.createTextNode('Data size: '));
        tr.appendChild(td_title);

        sorted_indices.map(idx => {
            const curr_size = filtered_data[idx].total_size;
            const baseline_size = Math.min(...filtered_data.map(elem => elem.total_size).filter(x => x));
            const ratio = curr_size !== null ? curr_size / baseline_size : null;

            let td = document.createElement('td');
            td.appendChild(document.createTextNode(curr_size !== null ? `${(curr_size / 1024 / 1024 / 1024).toFixed(2)} GiB (Ã—${ratio.toFixed(2)})` : 'â˜ '));

            colorize(td, ratio);
            tr.appendChild(td);
        });

        details_body.appendChild(tr);
    }

    /// Data Quality
    {
        let tr = document.createElement('tr');
        tr.className = 'shadow';

        let td_title = document.createElement('td');
        td_title.colSpan = 2;
        td_title.appendChild(document.createTextNode('Data quality: '));
        tr.appendChild(td_title);

        sorted_indices.map(idx => {
            const curr_size = filtered_data[idx].num_loaded_documents;
            const ratio = 1 + 1000 * (1 - curr_size / selectors.scale);

            let td = document.createElement('td');
            td.appendChild(document.createTextNode(curr_size));

            colorize(td, ratio);
            tr.appendChild(td);
        });

        details_body.appendChild(tr);
    }

    /// Query runtimes
    const num_queries = queries.length;

    for (let query_num = 0; query_num < num_queries; ++query_num) {
        let tr = document.createElement('tr');
        tr.className = 'shadow';

        let td_checkbox = document.createElement('td');
        let checkbox = document.createElement('input');
        checkbox.type = 'checkbox';
        checkbox.className = 'query-checkbox';
        checkbox.checked = selectors.queries[query_num];
        checkbox.addEventListener('change', e => {
            selectors.queries[query_num] = e.target.checked;
            renderSummary(filtered_data);
            updateHistory();
        });
        td_checkbox.appendChild(checkbox);
        tr.appendChild(td_checkbox);

        let td_query_num = document.createElement('td');
        td_query_num.className = 'note';
        td_query_num.appendChild(document.createTextNode(`Q${1 + query_num}. `));

        let tooltip = document.createElement('span');
        tooltip.className = 'tooltip tooltip-query';
        tooltip.appendChild(document.createTextNode(`Query ${1 + query_num}: ${queries[query_num]}`));
        td_query_num.appendChild(tooltip);

        tr.appendChild(td_query_num);

        sorted_indices.map(idx => {
            const curr_timing = filtered_data[idx].result.length > 0 ? selectRun(filtered_data[idx].result[query_num]) : null;
            const baseline_timing = selectRun(baseline_data[query_num]);
            const ratio = curr_timing !== null ? (constant_time_add + curr_timing) / (constant_time_add + baseline_timing) : null;

            let td = document.createElement('td');
            td.appendChild(document.createTextNode(curr_timing !== null ? `${curr_timing.toFixed(3)}s (Ã—${ratio.toFixed(2)})` : 'â˜ '));

            colorize(td, ratio);
            tr.appendChild(td);
        });

        details_body.appendChild(tr);
    }
}

function updateHistory() {
    history.pushState(selectors, '',
        window.location.pathname + (window.location.search || '') + '#' + btoa(JSON.stringify(selectors)));
}

window.onpopstate = function(event) {
    if (!event.state) { return; }
    selectors = event.state;
    render();
    updateSelectors();
};

if (window.location.hash) {
    try {
        selectors = JSON.parse(atob(window.location.hash.substring(1)));
    } catch {}
}

render();
updateSelectors();

</script>
</body>
</html>
